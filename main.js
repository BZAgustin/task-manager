(()=>{"use strict";const t=(t,e,n,i,s,o,c)=>{const r=document.createElement("div");r.classList.add("task"),r.id=`task-${o}`,r.dataset.index=o;const a=document.createElement("div"),d=document.createElement("div");a.classList.add("left-section"),d.classList.add("right-section");const l=document.createElement("input");l.type="checkbox",l.checked=s,l.id=`task-${o}-checkbox`;const m=document.createElement("h3");m.innerHTML=t,m.id=`task-${o}-name`;const u=document.createElement("span");u.className="task-span",u.innerHTML=e,s&&(m.style.textDecoration="line-through",m.style.color="gray"),a.appendChild(l),a.appendChild(m),a.appendChild(u);const p=document.createElement("span");p.className="task-span",p.classList.add(`priority-${i}`),p.innerHTML=`${{0:"LOW",1:"MID",2:"HIGH"}[i]} PRIORITY`;const y=document.createElement("div");y.className="divisor";const h=document.createElement("span");h.innerHTML=""===n?"No due date":`Due Date: ${n.getUTCDate()}/${n.getMonth()+1}/${n.getFullYear()}`;const g=document.createElement("img");g.addEventListener("click",c),g.classList.add("small"),g.src="./assets/edit.png",g.alt="Edit",g.id=`edit-task-${o}`;const k=document.createElement("img");return k.classList.add("small"),k.src="./assets/remove.png",k.dataset.index=o,k.alt="X",k.id=`remove-task-${o}`,d.appendChild(p),d.appendChild(y),d.appendChild(h),d.appendChild(g),d.appendChild(k),r.appendChild(a),r.appendChild(d),r},e=(t,e)=>{const n=document.createElement("li");n.id=`project-${e}`;const i=document.createElement("div");i.dataset.index=e;const s=document.createElement("img");s.src="./assets/project.png",s.alt="O";const o=document.createElement("span");o.innerHTML=t;const c=document.createElement("img");return c.classList.add("small"),c.src="./assets/remove.png",c.alt="X",i.appendChild(s),i.appendChild(o),n.appendChild(i),n.appendChild(c),n},n=class{constructor(t,e,n,i,s=!1){this.name=t,this.description=e,this.dueDate=n,this.priority=i,this.completed=s}get name(){return this._name}set name(t){this._name=t}get description(){return this._description}set description(t){this._description=t}get dueDate(){return this._dueDate}set dueDate(t){this._dueDate=t}get priority(){return this._priority}set priority(t){this._priority=t}get completed(){return this._completed}set completed(t){this._completed=t}},i=class{constructor(t){this.name=t,this.myTasks=[],this.isComplete=!1}get name(){return this._name}set name(t){this._name=t}get myTasks(){return this._myTasks}set myTasks(t){this._myTasks=t}addTask(t){this.myTasks.push(t)}get isComplete(){return this._isComplete}set isComplete(t){this._isComplete=t}removeTask(t){this.myTasks.splice(this.myTasks.indexOf(t),1)}};function s(t,e){var n;localStorage.setItem("projects",JSON.stringify(t)),n=e,localStorage.setItem("defaultProject",JSON.stringify(n))}const o=(()=>{const n=document.getElementById("btn-inbox"),i=document.getElementById("btn-today"),s=document.getElementById("btn-week"),o=document.getElementById("btn-new-project"),c=document.getElementById("input-container"),r=document.getElementById("project-name-input"),a=document.getElementById("btn-confirm-project-name"),d=document.getElementById("cancel-project"),l=document.getElementById("task-list-title"),m=document.getElementById("btn-new-task"),u=document.getElementById("btn-sort"),p=document.querySelector(".create-task"),y=document.getElementById("title-input"),h=document.getElementById("description-input"),g=document.getElementById("date-input"),k=document.getElementById("btn-low"),E=document.getElementById("btn-mid"),v=document.getElementById("btn-high"),L=document.getElementById("btn-add-task"),f=document.getElementById("btn-cancel-task"),b=document.querySelector(".overlay-container"),j=document.getElementById("title-input-edit"),T=document.getElementById("description-input-edit"),P=document.getElementById("date-input-edit"),I=document.getElementById("btn-low-edit"),C=document.getElementById("btn-mid-edit"),D=document.getElementById("btn-high-edit"),w=document.getElementById("btn-confirm-edit"),B=document.getElementById("btn-cancel-edit"),N=document.getElementById("project-list"),x=document.querySelector(".task-list");function _(t){y.value=t}function M(t){h.value=t}function H(t){g.value=t}function O(t,e,n,i){0===i?(t.classList.add("priority-low-on"),e.classList.remove("priority-mid-on"),n.classList.remove("priority-high-on")):1===i?(e.classList.add("priority-mid-on"),t.classList.remove("priority-low-on"),n.classList.remove("priority-high-on")):2===i?(n.classList.add("priority-high-on"),t.classList.remove("priority-low-on"),e.classList.remove("priority-mid-on")):(n.classList.remove("priority-high-on"),t.classList.remove("priority-low-on"),e.classList.remove("priority-mid-on"))}return{taskDivFactory:t,projectDivFactory:e,btnInbox:n,btnToday:i,btnWeek:s,btnNewProject:o,container:p,inputContainer:c,projectNameInput:r,btnConfirmProject:a,btnCancelProject:d,btnNewTask:m,btnSort:u,btnLow:k,btnMid:E,btnHigh:v,btnAddTask:L,btnCancelTask:f,projectListParent:N,taskListParent:x,taskOverlay:b,taskListAdd:function(t){x.appendChild(t)},projectListAdd:function(t){N.appendChild(t)},getTaskName:function(){return y.value},setTaskName:_,getProjectName:function(){return r.value},getDescription:function(){return h.value},setDescription:M,getDate:function(){return g.value},setDate:H,titleEdit:j,descriptionEdit:T,dateEdit:P,btnLowEdit:I,btnMidEdit:C,btnHighEdit:D,btnConfirmEdit:w,btnCancelEdit:B,setListTitle:function(t){l.innerHTML=t},updatePriority:O,clearFields:function(){_(""),M(""),H(""),O(k,E,v,""),O(I,C,D,"")},showTaskListPlaceholder:function(){const t=document.createElement("h2");t.innerHTML="Nothing here...",t.style.color="gray",x.appendChild(t)},showProjectListPlaceholder:function(){const t=document.createElement("h2");t.innerHTML="Nothing here...",N.appendChild(t)}}})(),c=new i("INBOX"),r={projects:[],activeProject:c},a={activeTask:void 0,currentPriority:0};function d(t){return new n(t._name,t._description,new Date(t._dueDate),t._priority,t._completed)}function l(t){return new i(t._name)}if("projects"in localStorage){const t=JSON.parse(localStorage.defaultProject)._myTasks;for(const e of t)c.myTasks.push(d(e));const e=JSON.parse(localStorage.getItem("projects"));for(const t of e){const e=l(t);for(const n of t._myTasks)e.myTasks.push(d(n));r.projects.push(e)}}function m(){const t=[];t.push(c.myTasks);for(const e of r.projects)t.push(e.myTasks);return t.flat()}function u(){if(""!==o.getTaskName()){const t=o.getTaskName(),e=o.getDescription(),i=new Date(`${o.getDate()}`),d=new n(t,e,i,a.currentPriority,!1);r.activeProject.myTasks.push(d),L(r.activeProject.myTasks),o.container.style.display="none",o.clearFields(),s(r.projects,c)}}function p(){o.taskOverlay.style.display="none";const t=a.activeTask;t.name=o.titleEdit.value,t.description=o.descriptionEdit.value,t.priority=a.currentPriority,t.date=o.dateEdit.value,L(r.activeProject.myTasks),s(r.projects,c)}function y(t){return function(){o.taskOverlay.style.display="flex",a.activeTask=t,o.titleEdit.value=t.name,o.descriptionEdit.value=t.description,o.updatePriority(o.btnLowEdit,o.btnMidEdit,o.btnHighEdit,t.priority),""!==t.dueDate&&(o.dateEdit.value=t.dueDate.toISOString().split("T")[0])}}function h(t){return function(){r.projects.splice(t,1),document.getElementById(`project-${t}`).remove(),r.activeProject=c,o.setListTitle(r.activeProject.name),L(r.activeProject.myTasks),s(r.projects,c)}}function g(t){return function(){r.activeProject=r.projects[t],o.setListTitle(r.activeProject.name),L(r.activeProject.myTasks)}}function k(){if(""!==o.getProjectName()){const t=o.getProjectName();r.projects.push(new i(t)),r.activeProject=r.projects[r.projects.length-1],f(r.projects),o.setListTitle(r.activeProject.name),o.inputContainer.style.display="",o.projectNameInput.value="",s(r.projects,c),L(r.activeProject.myTasks)}}function E(t){const e=document.getElementById(`task-${t.dataset.index}-name`);m()[t.dataset.index].completed=!0,e.style.textDecoration="line-through",e.style.color="gray"}function v(t){const e=document.getElementById(`task-${t.dataset.index}-name`);m()[t.dataset.index].completed=!1,e.style.textDecoration="none",e.style.color=""}function L(t){!function(t){for(;o.taskListParent.firstChild;)o.taskListParent.removeChild(o.taskListParent.firstChild);for(const e of t)a.activeTask=e,isNaN(e.dueDate.getDate())?o.taskListAdd(o.taskDivFactory(e.name,e.description,"",e.priority,e.completed,t.indexOf(e),y(a.activeTask))):o.taskListAdd(o.taskDivFactory(e.name,e.description,e.dueDate,e.priority,e.completed,t.indexOf(e),y(a.activeTask)));for(const t of Array.from(o.taskListParent.childNodes)){const e=t.dataset.index,n=document.getElementById(`task-${e}-checkbox`);document.getElementById(`remove-task-${e}`).addEventListener("click",(()=>{r.activeProject.removeTask(r.activeProject.myTasks[e]),t.remove(),L(r.activeProject.myTasks)})),n.addEventListener("click",(()=>{n.checked?E(t):v(t),s(r.projects,c)}))}0===t.length&&o.showTaskListPlaceholder()}(t)}function f(t){for(;o.projectListParent.firstChild;)o.projectListParent.removeChild(o.projectListParent.firstChild);for(const e of t)o.projectListAdd(o.projectDivFactory(e.name,t.indexOf(e)));for(const t of Array.from(o.projectListParent.childNodes)){const e=t.childNodes[1],n=t.childNodes[0].dataset.index;e.addEventListener("click",h(n)),t.childNodes[0].addEventListener("click",g(n))}0===t.length&&o.showProjectListPlaceholder()}L(c.myTasks),f(r.projects),o.btnAddTask.addEventListener("click",u),o.btnCancelTask.addEventListener("click",(()=>{o.container.style.display="none",o.clearFields()})),o.btnConfirmProject.addEventListener("click",k),o.btnInbox.addEventListener("click",(()=>{L(c.myTasks),r.activeProject=c,o.setListTitle("INBOX")})),o.btnToday.addEventListener("click",(()=>{L(m().filter((t=>function(t){const e=(new Date).getDate();return t.getUTCDate()===e}(t.dueDate)))),r.activeProject=c,o.setListTitle("TODAY")})),o.btnWeek.addEventListener("click",(()=>{L(m().filter((t=>function(t){const e=new Date,n=new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay()),i=new Date(e.getFullYear(),e.getMonth(),e.getDate()+(6-e.getDay()));return t>=n&&t<=i}(t.dueDate)))),r.activeProject=c,o.setListTitle("THIS WEEK")})),o.btnNewTask.addEventListener("click",(()=>{o.container.style.display="flex"})),o.btnSort.addEventListener("click",(()=>{!function(t){const e=t.filter((t=>2===t.priority)),n=t.filter((t=>1===t.priority)),i=t.filter((t=>0===t.priority));L(e.concat(n,i))}(r.activeProject.myTasks)})),o.btnNewProject.addEventListener("click",(()=>{o.inputContainer.style.display="flex"})),o.btnCancelProject.addEventListener("click",(()=>{o.inputContainer.style.display="none",o.projectNameInput.value=""})),o.btnConfirmEdit.addEventListener("click",p),o.btnCancelEdit.addEventListener("click",(()=>{o.taskOverlay.style.display="none"})),o.btnLow.addEventListener("click",(()=>{a.currentPriority=0,o.updatePriority(o.btnLow,o.btnMid,o.btnHigh,0)})),o.btnMid.addEventListener("click",(()=>{a.currentPriority=1,o.updatePriority(o.btnLow,o.btnMid,o.btnHigh,1)})),o.btnHigh.addEventListener("click",(()=>{a.currentPriority=2,o.updatePriority(o.btnLow,o.btnMid,o.btnHigh,2)})),o.btnLowEdit.addEventListener("click",(()=>{a.currentPriority=0,o.updatePriority(o.btnLowEdit,o.btnMidEdit,o.btnHighEdit,0)})),o.btnMidEdit.addEventListener("click",(()=>{a.currentPriority=1,o.updatePriority(o.btnLowEdit,o.btnMidEdit,o.btnHighEdit,1)})),o.btnHighEdit.addEventListener("click",(()=>{a.currentPriority=2,o.updatePriority(o.btnLowEdit,o.btnMidEdit,o.btnHighEdit,2)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQUEsTUFBTUEsRUFBaUIsQ0FBQ0MsRUFBTUMsRUFBYUMsRUFBU0MsRUFBVUMsRUFBV0MsRUFBUUMsS0FDN0UsTUFBTUMsRUFBT0MsU0FBU0MsY0FBYyxPQUNwQ0YsRUFBS0csVUFBVUMsSUFBSSxRQUNuQkosRUFBS0ssR0FBSyxRQUFRUCxJQUNsQkUsRUFBS00sUUFBUUMsTUFBUVQsRUFFckIsTUFBTVUsRUFBY1AsU0FBU0MsY0FBYyxPQUNyQ08sRUFBZVIsU0FBU0MsY0FBYyxPQUM1Q00sRUFBWUwsVUFBVUMsSUFBSSxnQkFDMUJLLEVBQWFOLFVBQVVDLElBQUksaUJBRTNCLE1BQU1NLEVBQVdULFNBQVNDLGNBQWMsU0FDeENRLEVBQVNDLEtBQU8sV0FDaEJELEVBQVNFLFFBQVVmLEVBQ25CYSxFQUFTTCxHQUFLLFFBQVFQLGFBQ3RCLE1BQU1lLEVBQVlaLFNBQVNDLGNBQWMsTUFDekNXLEVBQVVDLFVBQVlyQixFQUN0Qm9CLEVBQVVSLEdBQUssUUFBUVAsU0FDdkIsTUFBTWlCLEVBQVlkLFNBQVNDLGNBQWMsUUFDekNhLEVBQVVDLFVBQVksWUFDdEJELEVBQVVELFVBQVlwQixFQUVuQkcsSUFDRGdCLEVBQVVJLE1BQU1DLGVBQWlCLGVBQ2pDTCxFQUFVSSxNQUFNRSxNQUFRLFFBRzFCWCxFQUFZWSxZQUFZVixHQUN4QkYsRUFBWVksWUFBWVAsR0FDeEJMLEVBQVlZLFlBQVlMLEdBRXhCLE1BTU1NLEVBQWdCcEIsU0FBU0MsY0FBYyxRQUM3Q21CLEVBQWNMLFVBQVksWUFDMUJLLEVBQWNsQixVQUFVQyxJQUFJLFlBQVlSLEtBQ3hDeUIsRUFBY1AsVUFBWSxHQVROLENBQ2xCLEVBQUcsTUFDSCxFQUFHLE1BQ0gsRUFBRyxRQU1vQ2xCLGNBRXpDLE1BQU0wQixFQUFVckIsU0FBU0MsY0FBYyxPQUN2Q29CLEVBQVFOLFVBQVksVUFFcEIsTUFBTU8sRUFBT3RCLFNBQVNDLGNBQWMsUUFFbENxQixFQUFLVCxVQURRLEtBQVpuQixFQUNnQixjQUVBLGFBQWFBLEVBQVE2QixnQkFBZ0I3QixFQUFROEIsV0FBYSxLQUFLOUIsRUFBUStCLGdCQUcxRixNQUFNQyxFQUFPMUIsU0FBU0MsY0FBYyxPQUNwQ3lCLEVBQUtDLGlCQUFpQixRQUFTN0IsR0FDL0I0QixFQUFLeEIsVUFBVUMsSUFBSSxTQUNuQnVCLEVBQUtFLElBQU0sb0JBQ1hGLEVBQUtHLElBQU0sT0FDWEgsRUFBS3RCLEdBQUssYUFBYVAsSUFFdkIsTUFBTWlDLEVBQVM5QixTQUFTQyxjQUFjLE9BZ0J0QyxPQWZBNkIsRUFBTzVCLFVBQVVDLElBQUksU0FDckIyQixFQUFPRixJQUFNLHNCQUNiRSxFQUFPekIsUUFBUUMsTUFBUVQsRUFDdkJpQyxFQUFPRCxJQUFNLElBQ2JDLEVBQU8xQixHQUFLLGVBQWVQLElBRTNCVyxFQUFhVyxZQUFZQyxHQUN6QlosRUFBYVcsWUFBWUUsR0FDekJiLEVBQWFXLFlBQVlHLEdBQ3pCZCxFQUFhVyxZQUFZTyxHQUN6QmxCLEVBQWFXLFlBQVlXLEdBRXpCL0IsRUFBS29CLFlBQVlaLEdBQ2pCUixFQUFLb0IsWUFBWVgsR0FFVlQsQ0FBSSxFQUdUZ0MsRUFBb0IsQ0FBQ3ZDLEVBQU13QyxLQUMvQixNQUFNQyxFQUFVakMsU0FBU0MsY0FBYyxNQUN2Q2dDLEVBQVE3QixHQUFLLFdBQVc0QixJQUN4QixNQUFNRSxFQUFnQmxDLFNBQVNDLGNBQWMsT0FDN0NpQyxFQUFjN0IsUUFBUUMsTUFBUTBCLEVBQzlCLE1BQU1HLEVBQWNuQyxTQUFTQyxjQUFjLE9BQzNDa0MsRUFBWVAsSUFBTSx1QkFDbEJPLEVBQVlOLElBQU0sSUFDbEIsTUFBTU8sRUFBY3BDLFNBQVNDLGNBQWMsUUFDM0NtQyxFQUFZdkIsVUFBWXJCLEVBQ3hCLE1BQU02QyxFQUFhckMsU0FBU0MsY0FBYyxPQVUxQyxPQVRBb0MsRUFBV25DLFVBQVVDLElBQUksU0FDekJrQyxFQUFXVCxJQUFNLHNCQUNqQlMsRUFBV1IsSUFBTSxJQUVqQkssRUFBY2YsWUFBWWdCLEdBQzFCRCxFQUFjZixZQUFZaUIsR0FDMUJILEVBQVFkLFlBQVllLEdBQ3BCRCxFQUFRZCxZQUFZa0IsR0FFYkosQ0FBTyxFQ2hEaEIsRUFsREEsTUFDRUssWUFBWTlDLEVBQU1DLEVBQWFDLEVBQVNDLEVBQVVDLEdBQVksR0FDNUQyQyxLQUFLL0MsS0FBT0EsRUFDWitDLEtBQUs5QyxZQUFjQSxFQUNuQjhDLEtBQUs3QyxRQUFVQSxFQUNmNkMsS0FBSzVDLFNBQVdBLEVBQ2hCNEMsS0FBSzNDLFVBQVlBLENBQ25CLENBRUlKLFdBQ0YsT0FBTytDLEtBQUtDLEtBQ2QsQ0FFSWhELFNBQUtpRCxHQUNQRixLQUFLQyxNQUFRQyxDQUNmLENBRUloRCxrQkFDRixPQUFPOEMsS0FBS0csWUFDZCxDQUVJakQsZ0JBQVlrRCxHQUNkSixLQUFLRyxhQUFlQyxDQUN0QixDQUVJakQsY0FDRixPQUFPNkMsS0FBS0ssUUFDZCxDQUVJbEQsWUFBUTRCLEdBQ1ZpQixLQUFLSyxTQUFXdEIsQ0FDbEIsQ0FFSTNCLGVBQ0YsT0FBTzRDLEtBQUtNLFNBQ2QsQ0FFSWxELGFBQVNtRCxHQUNYUCxLQUFLTSxVQUFZQyxDQUNuQixDQUVJbEQsZ0JBQ0YsT0FBTzJDLEtBQUtRLFVBQ2QsQ0FFSW5ELGNBQVVvRCxHQUNaVCxLQUFLUSxXQUFhQyxDQUNwQixHQ05GLEVBeENBLE1BQ0VWLFlBQVk5QyxHQUNWK0MsS0FBSy9DLEtBQU9BLEVBQ1orQyxLQUFLVSxRQUFVLEdBQ2ZWLEtBQUtXLFlBQWEsQ0FDcEIsQ0FFSTFELFdBQ0YsT0FBTytDLEtBQUtDLEtBQ2QsQ0FFSWhELFNBQUsyRCxHQUNQWixLQUFLQyxNQUFRVyxDQUNmLENBRUlGLGNBQ0YsT0FBT1YsS0FBS2EsUUFDZCxDQUVJSCxZQUFRSSxHQUNWZCxLQUFLYSxTQUFXQyxDQUNsQixDQUVBQyxRQUFRdkQsR0FDTndDLEtBQUtVLFFBQVFNLEtBQUt4RCxFQUNwQixDQUVJbUQsaUJBQ0YsT0FBT1gsS0FBS2lCLFdBQ2QsQ0FFSU4sZUFBV08sR0FDYmxCLEtBQUtpQixZQUFjQyxDQUNyQixDQUVBQyxXQUFXM0QsR0FDVHdDLEtBQUtVLFFBQVFVLE9BQU9wQixLQUFLVSxRQUFRVyxRQUFRN0QsR0FBTyxFQUNsRCxHQzlCRixTQUFTOEQsRUFBYUMsRUFBYUMsR0FSbkMsSUFBNEI5QixFQVMxQitCLGFBQWFDLFFBQVEsV0FBWUMsS0FBS0MsVUFBVUwsSUFUdEI3QixFQVVQOEIsRUFUbkJDLGFBQWFDLFFBQVEsaUJBQWtCQyxLQUFLQyxVQUFVbEMsR0FVeEQsQ0NEQSxNQUFNLEVKMkZNLE1BRVYsTUFBTW1DLEVBQVdwRSxTQUFTcUUsZUFBZSxhQUNuQ0MsRUFBV3RFLFNBQVNxRSxlQUFlLGFBQ25DRSxFQUFVdkUsU0FBU3FFLGVBQWUsWUFHbENHLEVBQWdCeEUsU0FBU3FFLGVBQWUsbUJBQ3hDSSxFQUFpQnpFLFNBQVNxRSxlQUFlLG1CQUN6Q0ssRUFBbUIxRSxTQUFTcUUsZUFBZSxzQkFDM0NNLEVBQW9CM0UsU0FBU3FFLGVBQWUsNEJBQzVDTyxFQUFtQjVFLFNBQVNxRSxlQUFlLGtCQUczQ1EsRUFBWTdFLFNBQVNxRSxlQUFlLG1CQUNwQ1MsRUFBYTlFLFNBQVNxRSxlQUFlLGdCQUNyQ1UsRUFBVS9FLFNBQVNxRSxlQUFlLFlBR2xDVyxFQUFZaEYsU0FBU2lGLGNBQWMsZ0JBQ25DQyxFQUFRbEYsU0FBU3FFLGVBQWUsZUFDaEM1RSxFQUFjTyxTQUFTcUUsZUFBZSxxQkFDdEMvQyxFQUFPdEIsU0FBU3FFLGVBQWUsY0FDL0JjLEVBQVNuRixTQUFTcUUsZUFBZSxXQUNqQ2UsRUFBU3BGLFNBQVNxRSxlQUFlLFdBQ2pDZ0IsRUFBVXJGLFNBQVNxRSxlQUFlLFlBQ2xDaUIsRUFBYXRGLFNBQVNxRSxlQUFlLGdCQUNyQ2tCLEVBQWdCdkYsU0FBU3FFLGVBQWUsbUJBSXhDbUIsRUFBY3hGLFNBQVNpRixjQUFjLHNCQUNyQ1EsRUFBWXpGLFNBQVNxRSxlQUFlLG9CQUNwQ3FCLEVBQWtCMUYsU0FBU3FFLGVBQWUsMEJBQzFDc0IsRUFBVzNGLFNBQVNxRSxlQUFlLG1CQUNuQ3VCLEVBQWE1RixTQUFTcUUsZUFBZSxnQkFDckN3QixFQUFhN0YsU0FBU3FFLGVBQWUsZ0JBQ3JDeUIsRUFBYzlGLFNBQVNxRSxlQUFlLGlCQUN0QzBCLEVBQWlCL0YsU0FBU3FFLGVBQWUsb0JBQ3pDMkIsRUFBZ0JoRyxTQUFTcUUsZUFBZSxtQkFHeEM0QixFQUFvQmpHLFNBQVNxRSxlQUFlLGdCQUM1QzZCLEVBQWlCbEcsU0FBU2lGLGNBQWMsY0FvQjlDLFNBQVNrQixFQUFZMUQsR0FDbkJ5QyxFQUFNL0IsTUFBUVYsQ0FDaEIsQ0FNQSxTQUFTMkQsRUFBZXpELEdBQ3RCbEQsRUFBWTBELE1BQVFSLENBQ3RCLENBTUEsU0FBUzBELEVBQVFDLEdBQ2ZoRixFQUFLNkIsTUFBUW1ELENBQ2YsQ0FNQSxTQUFTQyxFQUFlQyxFQUFLQyxFQUFLQyxFQUFNL0csR0FDdEIsSUFBYkEsR0FDRDZHLEVBQUl0RyxVQUFVQyxJQUFJLG1CQUNsQnNHLEVBQUl2RyxVQUFVNEIsT0FBTyxtQkFDckI0RSxFQUFLeEcsVUFBVTRCLE9BQU8scUJBQ0QsSUFBYm5DLEdBQ1I4RyxFQUFJdkcsVUFBVUMsSUFBSSxtQkFDbEJxRyxFQUFJdEcsVUFBVTRCLE9BQU8sbUJBQ3JCNEUsRUFBS3hHLFVBQVU0QixPQUFPLHFCQUNELElBQWJuQyxHQUNSK0csRUFBS3hHLFVBQVVDLElBQUksb0JBQ25CcUcsRUFBSXRHLFVBQVU0QixPQUFPLG1CQUNyQjJFLEVBQUl2RyxVQUFVNEIsT0FBTyxxQkFFckI0RSxFQUFLeEcsVUFBVTRCLE9BQU8sb0JBQ3RCMEUsRUFBSXRHLFVBQVU0QixPQUFPLG1CQUNyQjJFLEVBQUl2RyxVQUFVNEIsT0FBTyxtQkFFekIsQ0F3QkEsTUFBTyxDQUFFdkMsaUJBQWdCd0Msb0JBQW1CcUMsV0FBVUUsV0FBVUMsVUFBU0MsZ0JBQWVRLFlBQy9FUCxpQkFBZ0JDLG1CQUFrQkMsb0JBQW1CQyxtQkFBa0JFLGFBQVlDLFVBQVNJLFNBQVFDLFNBQ3BHQyxVQUFTQyxhQUFZQyxnQkFBZVUsb0JBQW1CQyxpQkFBZ0JWLGNBQ3ZFbUIsWUFqRlQsU0FBcUI1RyxHQUNuQm1HLEVBQWUvRSxZQUFZcEIsRUFDN0IsRUErRXNCNkcsZUE3RXRCLFNBQXdCM0UsR0FDdEJnRSxFQUFrQjlFLFlBQVljLEVBQ2hDLEVBMkVzQzRFLFlBekV0QyxXQUNFLE9BQU8zQixFQUFNL0IsS0FDZixFQXVFbURnRCxjQUFhVyxlQXRGaEUsV0FDRSxPQUFPcEMsRUFBaUJ2QixLQUMxQixFQW9GZ0Y0RCxlQWpFaEYsV0FDRSxPQUFPdEgsRUFBWTBELEtBQ3JCLEVBZ0VTaUQsaUJBQWdCWSxRQTFEekIsV0FDRSxPQUFPMUYsRUFBSzZCLEtBQ2QsRUF3RGtDa0QsVUFBU1osWUFBV0Msa0JBQWlCQyxXQUFVQyxhQUFZQyxhQUNwRkMsY0FBYUMsaUJBQWdCQyxnQkFBZWlCLGFBbkRyRCxTQUFzQkMsR0FDcEJyQyxFQUFVaEUsVUFBWXFHLENBQ3hCLEVBaURtRVgsaUJBQWdCWSxZQTFCbkYsV0FDRWhCLEVBQVksSUFDWkMsRUFBZSxJQUNmQyxFQUFRLElBQ1JFLEVBQWVwQixFQUFRQyxFQUFRQyxFQUFTLElBQ3hDa0IsRUFBZVgsRUFBWUMsRUFBWUMsRUFBYSxHQUN0RCxFQXFCU3NCLHdCQW5CVCxXQUNFLE1BQU1DLEVBQU9ySCxTQUFTQyxjQUFjLE1BQ3BDb0gsRUFBS3hHLFVBQVksa0JBQ2pCd0csRUFBS3JHLE1BQU1FLE1BQVEsT0FDbkJnRixFQUFlL0UsWUFBWWtHLEVBQzdCLEVBY2tDQywyQkFabEMsV0FDRSxNQUFNRCxFQUFPckgsU0FBU0MsY0FBYyxNQUNwQ29ILEVBQUt4RyxVQUFZLGtCQUNqQm9GLEVBQWtCOUUsWUFBWWtHLEVBQ2hDLEVBUThELEVJbE9oRCxHQUVWdEQsRUFBaUIsSUFBSSxFQUFRLFNBRTdCd0QsRUFBaUIsQ0FDckJDLFNBQVUsR0FDVkMsY0FBZTFELEdBR1gyRCxFQUFjLENBQ2xCQyxnQkFBWUMsRUFDWkMsZ0JBQWlCLEdBR25CLFNBQVNDLEVBQWEvSCxHQUNwQixPQUFPLElBQUksRUFBS0EsRUFBS3lDLE1BQU96QyxFQUFLMkMsYUFBYyxJQUFJcUYsS0FBS2hJLEVBQUs2QyxVQUFXN0MsRUFBSzhDLFVBQVc5QyxFQUFLZ0QsV0FDL0YsQ0FFQSxTQUFTaUYsRUFBZ0IvRixHQUN2QixPQUFPLElBQUksRUFBUUEsRUFBUU8sTUFDN0IsQ0FFQSxHQUFHLGFBQWN3QixhQUFjLENBQzdCLE1BQU1pRSxFRDVCQy9ELEtBQUtnRSxNQUFNbEUsYUFBYUQsZ0JDNEJXWCxTQUMxQyxJQUFJLE1BQU1yRCxLQUFRa0ksRUFDaEJsRSxFQUFlZCxRQUFRTSxLQUFLdUUsRUFBYS9ILElBRzNDLE1BQU1vSSxFRHhCQ2pFLEtBQUtnRSxNQUFNbEUsYUFBYW9FLFFBQVEsYUN5QnZDLElBQUksTUFBTW5HLEtBQVdrRyxFQUFpQixDQUNwQyxNQUFNRSxFQUFnQkwsRUFBZ0IvRixHQUV0QyxJQUFJLE1BQU1sQyxLQUFRa0MsRUFBUW1CLFNBQ3hCaUYsRUFBY3BGLFFBQVFNLEtBQUt1RSxFQUFhL0gsSUFHMUN3SCxFQUFlQyxTQUFTakUsS0FBSzhFLEVBQy9CLENBQ0YsQ0FFQSxTQUFTQyxJQUNQLE1BQU1DLEVBQVEsR0FFZEEsRUFBTWhGLEtBQUtRLEVBQWVkLFNBRTFCLElBQUksTUFBTWhCLEtBQVdzRixFQUFlQyxTQUNsQ2UsRUFBTWhGLEtBQUt0QixFQUFRZ0IsU0FHckIsT0FBT3NGLEVBQU1DLE1BQ2YsQ0FlQSxTQUFTQyxJQUNQLEdBQTZCLEtBQTFCLEVBQVE1QixjQUFzQixDQUMvQixNQUFNckgsRUFBTyxFQUFRcUgsY0FDZnBILEVBQWMsRUFBUXNILGlCQUN0QnpGLEVBQU8sSUFBSXlHLEtBQUssR0FBRyxFQUFRZixhQUMzQmpILEVBQU8sSUFBSSxFQUFLUCxFQUFNQyxFQUFhNkIsRUFBTW9HLEVBQVlHLGlCQUFpQixHQUM1RU4sRUFBZUUsY0FBY3hFLFFBQVFNLEtBQUt4RCxHQUMxQzJJLEVBQWdCbkIsRUFBZUUsY0FBY3hFLFNBQzdDLEVBQVErQixVQUFVaEUsTUFBTTJILFFBQVUsT0FDbEMsRUFBUXhCLGNBQ1J0RCxFQUFhMEQsRUFBZUMsU0FBVXpELEVBQ3hDLENBQ0YsQ0FFQSxTQUFTNkUsSUFDUCxFQUFRcEQsWUFBWXhFLE1BQU0ySCxRQUFVLE9BQ3BDLE1BQU01SSxFQUFPMkgsRUFBWUMsV0FDekI1SCxFQUFLUCxLQUFPLEVBQVFpRyxVQUFVdEMsTUFDOUJwRCxFQUFLTixZQUFjLEVBQVFpRyxnQkFBZ0J2QyxNQUMzQ3BELEVBQUtKLFNBQVcrSCxFQUFZRyxnQkFDNUI5SCxFQUFLdUIsS0FBTyxFQUFRcUUsU0FBU3hDLE1BQzdCdUYsRUFBZ0JuQixFQUFlRSxjQUFjeEUsU0FDN0NZLEVBQWEwRCxFQUFlQyxTQUFVekQsRUFDeEMsQ0FFQSxTQUFTOEUsRUFBZ0I5SSxHQUN2QixPQUFPLFdBQ0wsRUFBUXlGLFlBQVl4RSxNQUFNMkgsUUFBVSxPQUNwQ2pCLEVBQVlDLFdBQWE1SCxFQUN6QixFQUFRMEYsVUFBVXRDLE1BQVFwRCxFQUFLUCxLQUMvQixFQUFRa0csZ0JBQWdCdkMsTUFBUXBELEVBQUtOLFlBQ3JDLEVBQVE4RyxlQUFlLEVBQVFYLFdBQVksRUFBUUMsV0FBWSxFQUFRQyxZQUFhL0YsRUFBS0osVUFDckUsS0FBakJJLEVBQUtMLFVBQ04sRUFBUWlHLFNBQVN4QyxNQUFRcEQsRUFBS0wsUUFBUW9KLGNBQWNDLE1BQU0sS0FBSyxHQUVuRSxDQUNGLENBRUEsU0FBU0MsRUFBcUIvRyxHQUM1QixPQUFPLFdBQ0xzRixFQUFlQyxTQUFTN0QsT0FBTzFCLEVBQVMsR0FDeENqQyxTQUFTcUUsZUFBZSxXQUFXcEMsS0FBV0gsU0FDOUN5RixFQUFlRSxjQUFnQjFELEVBQy9CLEVBQVFrRCxhQUFhTSxFQUFlRSxjQUFjakksTUFDbERrSixFQUFnQm5CLEVBQWVFLGNBQWN4RSxTQUM3Q1ksRUFBYTBELEVBQWVDLFNBQVV6RCxFQUN4QyxDQUNGLENBRUEsU0FBU2tGLEVBQXFCaEgsR0FDNUIsT0FBTyxXQUNMc0YsRUFBZUUsY0FBZ0JGLEVBQWVDLFNBQVN2RixHQUN2RCxFQUFRZ0YsYUFBYU0sRUFBZUUsY0FBY2pJLE1BQ2xEa0osRUFBZ0JuQixFQUFlRSxjQUFjeEUsUUFDL0MsQ0FDRixDQUVBLFNBQVNpRyxJQUNQLEdBQWdDLEtBQTdCLEVBQVFwQyxpQkFBeUIsQ0FDbEMsTUFBTXRILEVBQU8sRUFBUXNILGlCQUNyQlMsRUFBZUMsU0FBU2pFLEtBQUssSUFBSSxFQUFRL0QsSUFDekMrSCxFQUFlRSxjQUFnQkYsRUFBZUMsU0FBU0QsRUFBZUMsU0FBUzJCLE9BQU8sR0FDdEZDLEVBQWE3QixFQUFlQyxVQUM1QixFQUFRUCxhQUFhTSxFQUFlRSxjQUFjakksTUFDbEQsRUFBUWlGLGVBQWV6RCxNQUFNMkgsUUFBVSxHQUN2QyxFQUFRakUsaUJBQWlCdkIsTUFBUSxHQUNqQ1UsRUFBYTBELEVBQWVDLFNBQVV6RCxHQUN0QzJFLEVBQWdCbkIsRUFBZUUsY0FBY3hFLFFBQy9DLENBQ0YsQ0FFQSxTQUFTb0csRUFBYXRKLEdBQ3BCLE1BQU1QLEVBQU9RLFNBQVNxRSxlQUFlLFFBQVF0RSxFQUFLTSxRQUFRQyxjQUMxRGdJLElBQWN2SSxFQUFLTSxRQUFRQyxPQUFPVixXQUFZLEVBQzlDSixFQUFLd0IsTUFBTUMsZUFBaUIsZUFDNUJ6QixFQUFLd0IsTUFBTUUsTUFBUSxNQUNyQixDQUVBLFNBQVNvSSxFQUFhdkosR0FDcEIsTUFBTVAsRUFBT1EsU0FBU3FFLGVBQWUsUUFBUXRFLEVBQUtNLFFBQVFDLGNBQzFEZ0ksSUFBY3ZJLEVBQUtNLFFBQVFDLE9BQU9WLFdBQVksRUFDOUNKLEVBQUt3QixNQUFNQyxlQUFpQixPQUM1QnpCLEVBQUt3QixNQUFNRSxNQUFRLEVBQ3JCLENBNkNBLFNBQVN3SCxFQUFnQmEsSUEzQ3pCLFNBQW1CbEcsR0FDakIsS0FBTSxFQUFRNkMsZUFBZXNELFlBQzNCLEVBQVF0RCxlQUFldUQsWUFBWSxFQUFRdkQsZUFBZXNELFlBSTVELElBQUksTUFBTXpKLEtBQVFzRCxFQUNoQnFFLEVBQVlDLFdBQWE1SCxFQUN0QjJKLE1BQU0zSixFQUFLTCxRQUFRc0gsV0FDcEIsRUFBUUwsWUFBWSxFQUFRcEgsZUFBZVEsRUFBS1AsS0FBTU8sRUFBS04sWUFBYSxHQUFJTSxFQUFLSixTQUFVSSxFQUFLSCxVQUFXeUQsRUFBS08sUUFBUTdELEdBQU84SSxFQUFnQm5CLEVBQVlDLGNBRTNKLEVBQVFoQixZQUFZLEVBQVFwSCxlQUFlUSxFQUFLUCxLQUFNTyxFQUFLTixZQUFhTSxFQUFLTCxRQUFTSyxFQUFLSixTQUFVSSxFQUFLSCxVQUFXeUQsRUFBS08sUUFBUTdELEdBQU84SSxFQUFnQm5CLEVBQVlDLGNBS3pLLElBQUksTUFBTTVILEtBQVE0SixNQUFNQyxLQUFLLEVBQVExRCxlQUFlMkQsWUFBYSxDQUMvRCxNQUFNdkosRUFBUVAsRUFBS00sUUFBUUMsTUFDckJHLEVBQVdULFNBQVNxRSxlQUFlLFFBQVEvRCxjQUNsQ04sU0FBU3FFLGVBQWUsZUFBZS9ELEtBRS9DcUIsaUJBQWlCLFNBQVMsS0FDL0I0RixFQUFlRSxjQUFjL0QsV0FBVzZELEVBQWVFLGNBQWN4RSxRQUFRM0MsSUFDN0VQLEVBQUsrQixTQUNMNEcsRUFBZ0JuQixFQUFlRSxjQUFjeEUsUUFBUSxJQUd2RHhDLEVBQVNrQixpQkFBaUIsU0FBUyxLQUM3QmxCLEVBQVNFLFFBR1gwSSxFQUFhdEosR0FGYnVKLEVBQWF2SixHQUtmOEQsRUFBYTBELEVBQWVDLFNBQVV6RCxFQUFlLEdBRXpELENBRW1CLElBQWhCVixFQUFLOEYsUUFDTixFQUFRL0IseUJBRVosQ0FHRTBDLENBQVVQLEVBQ1osQ0FXQSxTQUFTSCxFQUFhL0YsR0FDcEIsS0FBTSxFQUFRNEMsa0JBQWtCdUQsWUFDOUIsRUFBUXZELGtCQUFrQndELFlBQVksRUFBUXhELGtCQUFrQnVELFlBR2xFLElBQUksTUFBTXZILEtBQVdvQixFQUNuQixFQUFRdUQsZUFBZSxFQUFRN0Usa0JBQWtCRSxFQUFRekMsS0FBTTZELEVBQUtPLFFBQVEzQixLQUc5RSxJQUFJLE1BQU1BLEtBQVcwSCxNQUFNQyxLQUFLLEVBQVEzRCxrQkFBa0I0RCxZQUFhLENBQ3JFLE1BQU0vSCxFQUFTRyxFQUFRNEgsV0FBVyxHQUM1QnZKLEVBQVEyQixFQUFRNEgsV0FBVyxHQUFHeEosUUFBUUMsTUFDNUN3QixFQUFPSCxpQkFBaUIsUUFBU3FILEVBQXFCMUksSUFDdEQyQixFQUFRNEgsV0FBVyxHQUFHbEksaUJBQWlCLFFBQVNzSCxFQUFxQjNJLEdBQ3ZFLENBRW1CLElBQWhCK0MsRUFBSzhGLFFBQ04sRUFBUTdCLDRCQUVaLENBdUZJb0IsRUFBZ0IzRSxFQUFlZCxTQUMvQm1HLEVBQWE3QixFQUFlQyxVQXJGOUIsRUFBUWxDLFdBQVczRCxpQkFBaUIsUUFBUzhHLEdBRTdDLEVBQVFsRCxjQUFjNUQsaUJBQWlCLFNBQVMsS0FDOUMsRUFBUXFELFVBQVVoRSxNQUFNMkgsUUFBVSxPQUNsQyxFQUFReEIsYUFBYSxJQUd2QixFQUFReEMsa0JBQWtCaEQsaUJBQWlCLFFBQVN1SCxHQUVwRCxFQUFROUUsU0FBU3pDLGlCQUFpQixTQUFTLEtBQ3pDK0csRUFBZ0IzRSxFQUFlZCxTQUMvQnNFLEVBQWVFLGNBQWdCMUQsRUFDL0IsRUFBUWtELGFBQWEsUUFBUSxJQUcvQixFQUFRM0MsU0FBUzNDLGlCQUFpQixTQUFTLEtBRXpDK0csRUFEbUJKLElBQWN5QixRQUFPaEssR0FoTTVDLFNBQWlCdUIsR0FDZixNQUFNMEksR0FBYyxJQUFJakMsTUFBT2YsVUFDL0IsT0FBTzFGLEVBQUtDLGVBQWlCeUksQ0FDL0IsQ0E2TG9EQyxDQUFRbEssRUFBS0wsWUFFN0Q2SCxFQUFlRSxjQUFnQjFELEVBQy9CLEVBQVFrRCxhQUFhLFFBQVEsSUFHL0IsRUFBUTFDLFFBQVE1QyxpQkFBaUIsU0FBUyxLQUV4QytHLEVBRGtCSixJQUFjeUIsUUFBT2hLLEdBbE0zQyxTQUFvQnVCLEdBQ2xCLE1BQU0wSSxFQUFjLElBQUlqQyxLQUNsQm1DLEVBQVksSUFBSW5DLEtBQUtpQyxFQUFZdkksY0FBZXVJLEVBQVl4SSxXQUFZd0ksRUFBWWhELFVBQVlnRCxFQUFZRyxVQUM1R0MsRUFBVSxJQUFJckMsS0FBS2lDLEVBQVl2SSxjQUFldUksRUFBWXhJLFdBQVl3SSxFQUFZaEQsV0FBYSxFQUFJZ0QsRUFBWUcsV0FFckgsT0FBTzdJLEdBQVE0SSxHQUFhNUksR0FBUThJLENBQ3RDLENBNExtREMsQ0FBV3RLLEVBQUtMLFlBRS9ENkgsRUFBZUUsY0FBZ0IxRCxFQUMvQixFQUFRa0QsYUFBYSxZQUFZLElBR25DLEVBQVFuQyxXQUFXbkQsaUJBQWlCLFNBQVMsS0FDM0MsRUFBUXFELFVBQVVoRSxNQUFNMkgsUUFBVSxNQUFNLElBRzFDLEVBQVE1RCxRQUFRcEQsaUJBQWlCLFNBQVMsTUFoRTVDLFNBQXdCMkksR0FDdEIsTUFBTTVELEVBQU80RCxFQUFjUCxRQUFPUSxHQUEwQixJQUFsQkEsRUFBSzVLLFdBQ3pDOEcsRUFBTTZELEVBQWNQLFFBQU9RLEdBQTBCLElBQWxCQSxFQUFLNUssV0FDeEM2RyxFQUFNOEQsRUFBY1AsUUFBT1EsR0FBMEIsSUFBbEJBLEVBQUs1SyxXQUc5QytJLEVBRG9CaEMsRUFBSzhELE9BQU8vRCxFQUFLRCxHQUV2QyxDQTBESWlFLENBQWVsRCxFQUFlRSxjQUFjeEUsUUFBUSxJQUd0RCxFQUFRdUIsY0FBYzdDLGlCQUFpQixTQUFTLEtBQzlDLEVBQVE4QyxlQUFlekQsTUFBTTJILFFBQVUsTUFBTSxJQUcvQyxFQUFRL0QsaUJBQWlCakQsaUJBQWlCLFNBQVMsS0FDakQsRUFBUThDLGVBQWV6RCxNQUFNMkgsUUFBVSxPQUN2QyxFQUFRakUsaUJBQWlCdkIsTUFBUSxFQUFFLElBR3JDLEVBQVE0QyxlQUFlcEUsaUJBQWlCLFFBQVNpSCxHQUVqRCxFQUFRNUMsY0FBY3JFLGlCQUFpQixTQUFTLEtBQzlDLEVBQVE2RCxZQUFZeEUsTUFBTTJILFFBQVUsTUFBTSxJQUc1QyxFQUFReEQsT0FBT3hELGlCQUFpQixTQUFTLEtBQ3ZDK0YsRUFBWUcsZ0JBQWtCLEVBQzlCLEVBQVF0QixlQUFlLEVBQVFwQixPQUFRLEVBQVFDLE9BQVEsRUFBUUMsUUFBUyxFQUFFLElBRzVFLEVBQVFELE9BQU96RCxpQkFBaUIsU0FBUyxLQUN2QytGLEVBQVlHLGdCQUFrQixFQUM5QixFQUFRdEIsZUFBZSxFQUFRcEIsT0FBUSxFQUFRQyxPQUFRLEVBQVFDLFFBQVMsRUFBRSxJQUc1RSxFQUFRQSxRQUFRMUQsaUJBQWlCLFNBQVMsS0FDeEMrRixFQUFZRyxnQkFBa0IsRUFDOUIsRUFBUXRCLGVBQWUsRUFBUXBCLE9BQVEsRUFBUUMsT0FBUSxFQUFRQyxRQUFTLEVBQUUsSUFHNUUsRUFBUU8sV0FBV2pFLGlCQUFpQixTQUFTLEtBQzNDK0YsRUFBWUcsZ0JBQWtCLEVBQzlCLEVBQVF0QixlQUFlLEVBQVFYLFdBQVksRUFBUUMsV0FBWSxFQUFRQyxZQUFhLEVBQUUsSUFHeEYsRUFBUUQsV0FBV2xFLGlCQUFpQixTQUFTLEtBQzNDK0YsRUFBWUcsZ0JBQWtCLEVBQzlCLEVBQVF0QixlQUFlLEVBQVFYLFdBQVksRUFBUUMsV0FBWSxFQUFRQyxZQUFhLEVBQUUsSUFHeEYsRUFBUUEsWUFBWW5FLGlCQUFpQixTQUFTLEtBQzVDK0YsRUFBWUcsZ0JBQWtCLEVBQzlCLEVBQVF0QixlQUFlLEVBQVFYLFdBQVksRUFBUUMsV0FBWSxFQUFRQyxZQUFhLEVBQUUsRyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9kaXNwbGF5LmpzIiwid2VicGFjazovLy8uL3NyYy90YXNrLmpzIiwid2VicGFjazovLy8uL3NyYy9wcm9qZWN0LmpzIiwid2VicGFjazovLy8uL3NyYy9hcHBTdG9yYWdlLmpzIiwid2VicGFjazovLy8uL3NyYy9ldmVudENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdGFza0RpdkZhY3RvcnkgPSAobmFtZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBjb21wbGV0ZWQsIHRhc2tJZCwgZWRpdEhhbmRsZXIpID0+IHtcbiAgICBjb25zdCB0YXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGFzay5jbGFzc0xpc3QuYWRkKCd0YXNrJyk7XG4gICAgdGFzay5pZCA9IGB0YXNrLSR7dGFza0lkfWA7XG4gICAgdGFzay5kYXRhc2V0LmluZGV4ID0gdGFza0lkO1xuXG4gICAgY29uc3QgbGVmdFNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCByaWdodFNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBsZWZ0U2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdsZWZ0LXNlY3Rpb24nKTtcbiAgICByaWdodFNlY3Rpb24uY2xhc3NMaXN0LmFkZCgncmlnaHQtc2VjdGlvbicpO1xuXG4gICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGNoZWNrYm94LnR5cGUgPSAnY2hlY2tib3gnO1xuICAgIGNoZWNrYm94LmNoZWNrZWQgPSBjb21wbGV0ZWQ7XG4gICAgY2hlY2tib3guaWQgPSBgdGFzay0ke3Rhc2tJZH0tY2hlY2tib3hgO1xuICAgIGNvbnN0IGxhYmVsTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgbGFiZWxOYW1lLmlubmVySFRNTCA9IG5hbWU7XG4gICAgbGFiZWxOYW1lLmlkID0gYHRhc2stJHt0YXNrSWR9LW5hbWVgO1xuICAgIGNvbnN0IGxhYmVsRGVzYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBsYWJlbERlc2MuY2xhc3NOYW1lID0gJ3Rhc2stc3Bhbic7XG4gICAgbGFiZWxEZXNjLmlubmVySFRNTCA9IGRlc2NyaXB0aW9uO1xuXG4gICAgaWYoY29tcGxldGVkKSB7XG4gICAgICBsYWJlbE5hbWUuc3R5bGUudGV4dERlY29yYXRpb24gPSAnbGluZS10aHJvdWdoJztcbiAgICAgIGxhYmVsTmFtZS5zdHlsZS5jb2xvciA9ICdncmF5JztcbiAgICB9XG5cbiAgICBsZWZ0U2VjdGlvbi5hcHBlbmRDaGlsZChjaGVja2JveCk7XG4gICAgbGVmdFNlY3Rpb24uYXBwZW5kQ2hpbGQobGFiZWxOYW1lKTtcbiAgICBsZWZ0U2VjdGlvbi5hcHBlbmRDaGlsZChsYWJlbERlc2MpO1xuXG4gICAgY29uc3QgcHJpb3JpdHlMaWIgPSB7XG4gICAgICAwOiBcIkxPV1wiLFxuICAgICAgMTogXCJNSURcIixcbiAgICAgIDI6IFwiSElHSFwiXG4gICAgfTtcblxuICAgIGNvbnN0IGxhYmVsUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgbGFiZWxQcmlvcml0eS5jbGFzc05hbWUgPSAndGFzay1zcGFuJztcbiAgICBsYWJlbFByaW9yaXR5LmNsYXNzTGlzdC5hZGQoYHByaW9yaXR5LSR7cHJpb3JpdHl9YCk7XG4gICAgbGFiZWxQcmlvcml0eS5pbm5lckhUTUwgPSBgJHtwcmlvcml0eUxpYltwcmlvcml0eV19IFBSSU9SSVRZYDtcblxuICAgIGNvbnN0IGRpdmlzb3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXZpc29yLmNsYXNzTmFtZSA9ICdkaXZpc29yJztcblxuICAgIGNvbnN0IGRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgaWYoZHVlRGF0ZSA9PT0gJycpIHtcbiAgICAgIGRhdGUuaW5uZXJIVE1MID0gYE5vIGR1ZSBkYXRlYDtcbiAgICB9IGVsc2Uge1xuICAgICAgZGF0ZS5pbm5lckhUTUwgPSBgRHVlIERhdGU6ICR7ZHVlRGF0ZS5nZXRVVENEYXRlKCl9LyR7ZHVlRGF0ZS5nZXRNb250aCgpICsgMX0vJHtkdWVEYXRlLmdldEZ1bGxZZWFyKCl9YDtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZWRpdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIGVkaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlZGl0SGFuZGxlcik7XG4gICAgZWRpdC5jbGFzc0xpc3QuYWRkKCdzbWFsbCcpO1xuICAgIGVkaXQuc3JjID0gJy4vYXNzZXRzL2VkaXQucG5nJztcbiAgICBlZGl0LmFsdCA9ICdFZGl0JztcbiAgICBlZGl0LmlkID0gYGVkaXQtdGFzay0ke3Rhc2tJZH1gO1xuXG4gICAgY29uc3QgcmVtb3ZlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgcmVtb3ZlLmNsYXNzTGlzdC5hZGQoJ3NtYWxsJyk7XG4gICAgcmVtb3ZlLnNyYyA9ICcuL2Fzc2V0cy9yZW1vdmUucG5nJztcbiAgICByZW1vdmUuZGF0YXNldC5pbmRleCA9IHRhc2tJZDtcbiAgICByZW1vdmUuYWx0ID0gJ1gnO1xuICAgIHJlbW92ZS5pZCA9IGByZW1vdmUtdGFzay0ke3Rhc2tJZH1gO1xuXG4gICAgcmlnaHRTZWN0aW9uLmFwcGVuZENoaWxkKGxhYmVsUHJpb3JpdHkpO1xuICAgIHJpZ2h0U2VjdGlvbi5hcHBlbmRDaGlsZChkaXZpc29yKTtcbiAgICByaWdodFNlY3Rpb24uYXBwZW5kQ2hpbGQoZGF0ZSk7XG4gICAgcmlnaHRTZWN0aW9uLmFwcGVuZENoaWxkKGVkaXQpO1xuICAgIHJpZ2h0U2VjdGlvbi5hcHBlbmRDaGlsZChyZW1vdmUpO1xuXG4gICAgdGFzay5hcHBlbmRDaGlsZChsZWZ0U2VjdGlvbik7XG4gICAgdGFzay5hcHBlbmRDaGlsZChyaWdodFNlY3Rpb24pO1xuXG4gICAgcmV0dXJuIHRhc2s7XG59O1xuXG5jb25zdCBwcm9qZWN0RGl2RmFjdG9yeSA9IChuYW1lLCBwcm9qZWN0SWQpID0+IHtcbiAgY29uc3QgcHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gIHByb2plY3QuaWQgPSBgcHJvamVjdC0ke3Byb2plY3RJZH1gO1xuICBjb25zdCBsZWZ0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGxlZnRDb250YWluZXIuZGF0YXNldC5pbmRleCA9IHByb2plY3RJZDtcbiAgY29uc3QgcHJvamVjdEljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgcHJvamVjdEljb24uc3JjID0gJy4vYXNzZXRzL3Byb2plY3QucG5nJztcbiAgcHJvamVjdEljb24uYWx0ID0gJ08nO1xuICBjb25zdCBwcm9qZWN0TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgcHJvamVjdE5hbWUuaW5uZXJIVE1MID0gbmFtZTtcbiAgY29uc3QgZGVsZXRlSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICBkZWxldGVJY29uLmNsYXNzTGlzdC5hZGQoJ3NtYWxsJyk7XG4gIGRlbGV0ZUljb24uc3JjID0gJy4vYXNzZXRzL3JlbW92ZS5wbmcnO1xuICBkZWxldGVJY29uLmFsdCA9ICdYJztcbiBcbiAgbGVmdENvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9qZWN0SWNvbik7XG4gIGxlZnRDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvamVjdE5hbWUpO1xuICBwcm9qZWN0LmFwcGVuZENoaWxkKGxlZnRDb250YWluZXIpO1xuICBwcm9qZWN0LmFwcGVuZENoaWxkKGRlbGV0ZUljb24pO1xuXG4gIHJldHVybiBwcm9qZWN0O1xufVxuXG5jb25zdCBET00gPSAoKSA9PiB7XG4gIC8vIFNpZGViYXJcbiAgY29uc3QgYnRuSW5ib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLWluYm94Jyk7XG4gIGNvbnN0IGJ0blRvZGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi10b2RheScpO1xuICBjb25zdCBidG5XZWVrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi13ZWVrJyk7XG4gIFxuICAvLyBBZGQgbmV3IHByb2plY3RcbiAgY29uc3QgYnRuTmV3UHJvamVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tbmV3LXByb2plY3QnKTtcbiAgY29uc3QgaW5wdXRDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXQtY29udGFpbmVyJyk7XG4gIGNvbnN0IHByb2plY3ROYW1lSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdC1uYW1lLWlucHV0Jyk7XG4gIGNvbnN0IGJ0bkNvbmZpcm1Qcm9qZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1jb25maXJtLXByb2plY3QtbmFtZScpO1xuICBjb25zdCBidG5DYW5jZWxQcm9qZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbmNlbC1wcm9qZWN0Jyk7XG5cbiAgLy8gVGFzayBMaXN0XG4gIGNvbnN0IGxpc3RUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrLWxpc3QtdGl0bGUnKTtcbiAgY29uc3QgYnRuTmV3VGFzayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tbmV3LXRhc2snKTtcbiAgY29uc3QgYnRuU29ydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tc29ydCcpO1xuXG4gIC8vICdDcmVhdGUgVGFzaycgRm9ybVxuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3JlYXRlLXRhc2snKTtcbiAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUtaW5wdXQnKTtcbiAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVzY3JpcHRpb24taW5wdXQnKTtcbiAgY29uc3QgZGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlLWlucHV0Jyk7XG4gIGNvbnN0IGJ0bkxvdyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tbG93Jyk7XG4gIGNvbnN0IGJ0bk1pZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tbWlkJyk7XG4gIGNvbnN0IGJ0bkhpZ2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLWhpZ2gnKTtcbiAgY29uc3QgYnRuQWRkVGFzayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tYWRkLXRhc2snKTtcbiAgY29uc3QgYnRuQ2FuY2VsVGFzayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tY2FuY2VsLXRhc2snKTtcblxuXG4gIC8vICdFZGl0IFRhc2snIEZvcm1cbiAgY29uc3QgdGFza092ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3ZlcmxheS1jb250YWluZXInKTtcbiAgY29uc3QgdGl0bGVFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlLWlucHV0LWVkaXQnKTtcbiAgY29uc3QgZGVzY3JpcHRpb25FZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rlc2NyaXB0aW9uLWlucHV0LWVkaXQnKTtcbiAgY29uc3QgZGF0ZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZS1pbnB1dC1lZGl0Jyk7XG4gIGNvbnN0IGJ0bkxvd0VkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLWxvdy1lZGl0Jyk7XG4gIGNvbnN0IGJ0bk1pZEVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLW1pZC1lZGl0Jyk7XG4gIGNvbnN0IGJ0bkhpZ2hFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1oaWdoLWVkaXQnKTtcbiAgY29uc3QgYnRuQ29uZmlybUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLWNvbmZpcm0tZWRpdCcpO1xuICBjb25zdCBidG5DYW5jZWxFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1jYW5jZWwtZWRpdCcpO1xuXG4gIC8vIFBhcmVudCBOb2Rlc1xuICBjb25zdCBwcm9qZWN0TGlzdFBhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0LWxpc3QnKTtcbiAgY29uc3QgdGFza0xpc3RQYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFzay1saXN0Jyk7XG5cbiAgLy8gTWV0aG9kcyAocHJvamVjdHMpXG4gIGZ1bmN0aW9uIGdldFByb2plY3ROYW1lKCkge1xuICAgIHJldHVybiBwcm9qZWN0TmFtZUlucHV0LnZhbHVlO1xuICB9XG5cbiAgLy8gTWV0aG9kcyAodGFza3MpXG4gIGZ1bmN0aW9uIHRhc2tMaXN0QWRkKHRhc2spIHtcbiAgICB0YXNrTGlzdFBhcmVudC5hcHBlbmRDaGlsZCh0YXNrKTtcbiAgfVxuICBcbiAgZnVuY3Rpb24gcHJvamVjdExpc3RBZGQocHJvamVjdCkge1xuICAgIHByb2plY3RMaXN0UGFyZW50LmFwcGVuZENoaWxkKHByb2plY3QpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VGFza05hbWUoKSB7XG4gICAgcmV0dXJuIHRpdGxlLnZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0VGFza05hbWUobmV3TmFtZSkge1xuICAgIHRpdGxlLnZhbHVlID0gbmV3TmFtZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERlc2NyaXB0aW9uKCkge1xuICAgIHJldHVybiBkZXNjcmlwdGlvbi52YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldERlc2NyaXB0aW9uKG5ld0Rlc2NyaXB0aW9uKSB7XG4gICAgZGVzY3JpcHRpb24udmFsdWUgPSBuZXdEZXNjcmlwdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERhdGUoKSB7XG4gICAgcmV0dXJuIGRhdGUudmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBzZXREYXRlKG5ld0RhdGUpIHtcbiAgICBkYXRlLnZhbHVlID0gbmV3RGF0ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldExpc3RUaXRsZShuZXdUaXRsZSkge1xuICAgIGxpc3RUaXRsZS5pbm5lckhUTUwgPSBuZXdUaXRsZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVByaW9yaXR5KGxvdywgbWlkLCBoaWdoLCBwcmlvcml0eSkge1xuICAgIGlmKHByaW9yaXR5ID09PSAwKSB7XG4gICAgICBsb3cuY2xhc3NMaXN0LmFkZCgncHJpb3JpdHktbG93LW9uJyk7XG4gICAgICBtaWQuY2xhc3NMaXN0LnJlbW92ZSgncHJpb3JpdHktbWlkLW9uJyk7XG4gICAgICBoaWdoLmNsYXNzTGlzdC5yZW1vdmUoJ3ByaW9yaXR5LWhpZ2gtb24nKTtcbiAgICB9IGVsc2UgaWYocHJpb3JpdHkgPT09IDEpIHtcbiAgICAgIG1pZC5jbGFzc0xpc3QuYWRkKCdwcmlvcml0eS1taWQtb24nKTtcbiAgICAgIGxvdy5jbGFzc0xpc3QucmVtb3ZlKCdwcmlvcml0eS1sb3ctb24nKTtcbiAgICAgIGhpZ2guY2xhc3NMaXN0LnJlbW92ZSgncHJpb3JpdHktaGlnaC1vbicpO1xuICAgIH0gZWxzZSBpZihwcmlvcml0eSA9PT0gMikge1xuICAgICAgaGlnaC5jbGFzc0xpc3QuYWRkKCdwcmlvcml0eS1oaWdoLW9uJyk7XG4gICAgICBsb3cuY2xhc3NMaXN0LnJlbW92ZSgncHJpb3JpdHktbG93LW9uJyk7XG4gICAgICBtaWQuY2xhc3NMaXN0LnJlbW92ZSgncHJpb3JpdHktbWlkLW9uJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpZ2guY2xhc3NMaXN0LnJlbW92ZSgncHJpb3JpdHktaGlnaC1vbicpO1xuICAgICAgbG93LmNsYXNzTGlzdC5yZW1vdmUoJ3ByaW9yaXR5LWxvdy1vbicpO1xuICAgICAgbWlkLmNsYXNzTGlzdC5yZW1vdmUoJ3ByaW9yaXR5LW1pZC1vbicpO1xuICAgIH1cbiAgfVxuXG4gIFxuICBmdW5jdGlvbiBjbGVhckZpZWxkcygpIHtcbiAgICBzZXRUYXNrTmFtZSgnJyk7XG4gICAgc2V0RGVzY3JpcHRpb24oJycpO1xuICAgIHNldERhdGUoJycpO1xuICAgIHVwZGF0ZVByaW9yaXR5KGJ0bkxvdywgYnRuTWlkLCBidG5IaWdoLCAnJyk7XG4gICAgdXBkYXRlUHJpb3JpdHkoYnRuTG93RWRpdCwgYnRuTWlkRWRpdCwgYnRuSGlnaEVkaXQsICcnKTtcbiAgfVxuICBcbiAgZnVuY3Rpb24gc2hvd1Rhc2tMaXN0UGxhY2Vob2xkZXIoKSB7XG4gICAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG4gICAgdGV4dC5pbm5lckhUTUwgPSAnTm90aGluZyBoZXJlLi4uJztcbiAgICB0ZXh0LnN0eWxlLmNvbG9yID0gJ2dyYXknO1xuICAgIHRhc2tMaXN0UGFyZW50LmFwcGVuZENoaWxkKHRleHQpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvd1Byb2plY3RMaXN0UGxhY2Vob2xkZXIoKSB7XG4gICAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG4gICAgdGV4dC5pbm5lckhUTUwgPSAnTm90aGluZyBoZXJlLi4uJztcbiAgICBwcm9qZWN0TGlzdFBhcmVudC5hcHBlbmRDaGlsZCh0ZXh0KTtcbiAgfVxuXG4gIHJldHVybiB7IHRhc2tEaXZGYWN0b3J5LCBwcm9qZWN0RGl2RmFjdG9yeSwgYnRuSW5ib3gsIGJ0blRvZGF5LCBidG5XZWVrLCBidG5OZXdQcm9qZWN0LCBjb250YWluZXIsIFxuICAgICAgICAgICBpbnB1dENvbnRhaW5lciwgcHJvamVjdE5hbWVJbnB1dCwgYnRuQ29uZmlybVByb2plY3QsIGJ0bkNhbmNlbFByb2plY3QsIGJ0bk5ld1Rhc2ssIGJ0blNvcnQsIGJ0bkxvdywgYnRuTWlkLCAgXG4gICAgICAgICAgIGJ0bkhpZ2gsIGJ0bkFkZFRhc2ssIGJ0bkNhbmNlbFRhc2ssIHByb2plY3RMaXN0UGFyZW50LCB0YXNrTGlzdFBhcmVudCwgdGFza092ZXJsYXksIFxuICAgICAgICAgICB0YXNrTGlzdEFkZCwgcHJvamVjdExpc3RBZGQsIGdldFRhc2tOYW1lLCBzZXRUYXNrTmFtZSwgZ2V0UHJvamVjdE5hbWUsIGdldERlc2NyaXB0aW9uLCAgXG4gICAgICAgICAgIHNldERlc2NyaXB0aW9uLCBnZXREYXRlLCBzZXREYXRlLCB0aXRsZUVkaXQsIGRlc2NyaXB0aW9uRWRpdCwgZGF0ZUVkaXQsIGJ0bkxvd0VkaXQsIGJ0bk1pZEVkaXQsIFxuICAgICAgICAgICBidG5IaWdoRWRpdCwgYnRuQ29uZmlybUVkaXQsIGJ0bkNhbmNlbEVkaXQsIHNldExpc3RUaXRsZSwgdXBkYXRlUHJpb3JpdHksIGNsZWFyRmllbGRzLCBcbiAgICAgICAgICAgc2hvd1Rhc2tMaXN0UGxhY2Vob2xkZXIsIHNob3dQcm9qZWN0TGlzdFBsYWNlaG9sZGVyIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBET007IiwiY2xhc3MgVGFzayB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSwgY29tcGxldGVkID0gZmFsc2UpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xuICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICB0aGlzLmNvbXBsZXRlZCA9IGNvbXBsZXRlZDtcbiAgfVxuXG4gIGdldCBuYW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICB9XG4gIFxuICBzZXQgbmFtZShuZXdOYW1lKSB7XG4gICAgdGhpcy5fbmFtZSA9IG5ld05hbWU7XG4gIH1cblxuICBnZXQgZGVzY3JpcHRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Rlc2NyaXB0aW9uO1xuICB9XG5cbiAgc2V0IGRlc2NyaXB0aW9uKG5ld0Rlc2NyaXB0aW9uKSB7XG4gICAgdGhpcy5fZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvbjtcbiAgfVxuXG4gIGdldCBkdWVEYXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9kdWVEYXRlO1xuICB9XG5cbiAgc2V0IGR1ZURhdGUoZGF0ZSkge1xuICAgIHRoaXMuX2R1ZURhdGUgPSBkYXRlO1xuICB9XG5cbiAgZ2V0IHByaW9yaXR5KCkge1xuICAgIHJldHVybiB0aGlzLl9wcmlvcml0eTtcbiAgfVxuXG4gIHNldCBwcmlvcml0eShuZXdQcmlvcml0eSkge1xuICAgIHRoaXMuX3ByaW9yaXR5ID0gbmV3UHJpb3JpdHk7XG4gIH1cblxuICBnZXQgY29tcGxldGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9jb21wbGV0ZWQ7XG4gIH1cblxuICBzZXQgY29tcGxldGVkKGNvbXBsZXRlKSB7XG4gICAgdGhpcy5fY29tcGxldGVkID0gY29tcGxldGU7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGFzazsiLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlcnNjb3JlLWRhbmdsZSAqL1xuY2xhc3MgUHJvamVjdCB7XG4gIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMubXlUYXNrcyA9IFtdO1xuICAgIHRoaXMuaXNDb21wbGV0ZSA9IGZhbHNlO1xuICB9XG5cbiAgZ2V0IG5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gIH1cblxuICBzZXQgbmFtZSh2YWx1ZSkge1xuICAgIHRoaXMuX25hbWUgPSB2YWx1ZTtcbiAgfVxuXG4gIGdldCBteVRhc2tzKCkge1xuICAgIHJldHVybiB0aGlzLl9teVRhc2tzO1xuICB9XG5cbiAgc2V0IG15VGFza3MobGlzdCkge1xuICAgIHRoaXMuX215VGFza3MgPSBsaXN0O1xuICB9XG5cbiAgYWRkVGFzayh0YXNrKSB7XG4gICAgdGhpcy5teVRhc2tzLnB1c2godGFzayk7XG4gIH1cblxuICBnZXQgaXNDb21wbGV0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNDb21wbGV0ZTtcbiAgfVxuXG4gIHNldCBpc0NvbXBsZXRlKHN0YXR1cykge1xuICAgIHRoaXMuX2lzQ29tcGxldGUgPSBzdGF0dXM7XG4gIH1cblxuICByZW1vdmVUYXNrKHRhc2spIHtcbiAgICB0aGlzLm15VGFza3Muc3BsaWNlKHRoaXMubXlUYXNrcy5pbmRleE9mKHRhc2spLCAxKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJvamVjdDsiLCJmdW5jdGlvbiBzYXZlRGVmYXVsdFByb2plY3QocHJvamVjdCkge1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZGVmYXVsdFByb2plY3QnLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0KSk7XG59XG5cbmZ1bmN0aW9uIGxvYWREZWZhdWx0UHJvamVjdCgpIHtcbiAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmRlZmF1bHRQcm9qZWN0KTtcbn1cblxuZnVuY3Rpb24gc2F2ZVByb2plY3RzKHByb2plY3RMaXN0LCBkZWZhdWx0UHJvamVjdCkge1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvamVjdHMnLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0TGlzdCkpO1xuICBzYXZlRGVmYXVsdFByb2plY3QoZGVmYXVsdFByb2plY3QpO1xufTtcblxuZnVuY3Rpb24gbG9hZFByb2plY3RzKCkge1xuICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvamVjdHMnKSk7XG59XG5cbmV4cG9ydCB7IGxvYWREZWZhdWx0UHJvamVjdCwgc2F2ZVByb2plY3RzLCBsb2FkUHJvamVjdHMgfVxuXG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cbi8qIGVzbGludC1kaXNhYmxlIHByZWZlci1kZXN0cnVjdHVyaW5nICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11c2UtYmVmb3JlLWRlZmluZSAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZXJzY29yZS1kYW5nbGUgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtc3ludGF4ICovXG5pbXBvcnQgRE9NIGZyb20gJy4vZGlzcGxheSc7XG5pbXBvcnQgVGFzayBmcm9tICcuL3Rhc2snO1xuaW1wb3J0IFByb2plY3QgZnJvbSAnLi9wcm9qZWN0JztcbmltcG9ydCB7IHNhdmVQcm9qZWN0cywgbG9hZFByb2plY3RzLCBsb2FkRGVmYXVsdFByb2plY3QgfSBmcm9tICcuL2FwcFN0b3JhZ2UnO1xuXG5jb25zdCBkaXNwbGF5ID0gRE9NKCk7XG5cbmNvbnN0IGRlZmF1bHRQcm9qZWN0ID0gbmV3IFByb2plY3QoJ0lOQk9YJyk7XG5cbmNvbnN0IHByb2plY3RNYW5hZ2VyID0ge1xuICBwcm9qZWN0czogW10sXG4gIGFjdGl2ZVByb2plY3Q6IGRlZmF1bHRQcm9qZWN0XG59XG5cbmNvbnN0IHRhc2tNYW5hZ2VyID0ge1xuICBhY3RpdmVUYXNrOiB1bmRlZmluZWQsXG4gIGN1cnJlbnRQcmlvcml0eTogMFxufVxuXG5mdW5jdGlvbiByZXRyaWV2ZVRhc2sodGFzaykge1xuICByZXR1cm4gbmV3IFRhc2sodGFzay5fbmFtZSwgdGFzay5fZGVzY3JpcHRpb24sIG5ldyBEYXRlKHRhc2suX2R1ZURhdGUpLCB0YXNrLl9wcmlvcml0eSwgdGFzay5fY29tcGxldGVkKTtcbn1cblxuZnVuY3Rpb24gcmV0cmlldmVQcm9qZWN0KHByb2plY3QpIHtcbiAgcmV0dXJuIG5ldyBQcm9qZWN0KHByb2plY3QuX25hbWUpO1xufVxuXG5pZihcInByb2plY3RzXCIgaW4gbG9jYWxTdG9yYWdlKSB7XG4gIGNvbnN0IHN0b3JhZ2VUYXNrcyA9IGxvYWREZWZhdWx0UHJvamVjdCgpLl9teVRhc2tzO1xuICBmb3IoY29uc3QgdGFzayBvZiBzdG9yYWdlVGFza3MpIHtcbiAgICBkZWZhdWx0UHJvamVjdC5teVRhc2tzLnB1c2gocmV0cmlldmVUYXNrKHRhc2spKTtcbiAgfVxuXG4gIGNvbnN0IHN0b3JhZ2VQcm9qZWN0cyA9IGxvYWRQcm9qZWN0cygpO1xuICBmb3IoY29uc3QgcHJvamVjdCBvZiBzdG9yYWdlUHJvamVjdHMpIHtcbiAgICBjb25zdCBwcm9qZWN0T2JqZWN0ID0gcmV0cmlldmVQcm9qZWN0KHByb2plY3QpO1xuXG4gICAgZm9yKGNvbnN0IHRhc2sgb2YgcHJvamVjdC5fbXlUYXNrcykge1xuICAgICAgcHJvamVjdE9iamVjdC5teVRhc2tzLnB1c2gocmV0cmlldmVUYXNrKHRhc2spKTtcbiAgICB9XG5cbiAgICBwcm9qZWN0TWFuYWdlci5wcm9qZWN0cy5wdXNoKHByb2plY3RPYmplY3QpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldEFsbFRhc2tzKCkge1xuICBjb25zdCB0YXNrcyA9IFtdO1xuXG4gIHRhc2tzLnB1c2goZGVmYXVsdFByb2plY3QubXlUYXNrcyk7XG5cbiAgZm9yKGNvbnN0IHByb2plY3Qgb2YgcHJvamVjdE1hbmFnZXIucHJvamVjdHMpIHtcbiAgICB0YXNrcy5wdXNoKHByb2plY3QubXlUYXNrcyk7XG4gIH1cblxuICByZXR1cm4gdGFza3MuZmxhdCgpO1xufVxuXG5mdW5jdGlvbiBpc1RvZGF5KGRhdGUpIHtcbiAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpLmdldERhdGUoKTtcbiAgcmV0dXJuIGRhdGUuZ2V0VVRDRGF0ZSgpID09PSBjdXJyZW50RGF0ZTtcbn1cblxuZnVuY3Rpb24gaXNUaGlzV2VlayhkYXRlKSB7XG4gIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcbiAgY29uc3Qgd2Vla1N0YXJ0ID0gbmV3IERhdGUoY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKSwgY3VycmVudERhdGUuZ2V0TW9udGgoKSwgY3VycmVudERhdGUuZ2V0RGF0ZSgpIC0gY3VycmVudERhdGUuZ2V0RGF5KCkpO1xuICBjb25zdCB3ZWVrRW5kID0gbmV3IERhdGUoY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKSwgY3VycmVudERhdGUuZ2V0TW9udGgoKSwgY3VycmVudERhdGUuZ2V0RGF0ZSgpICsgKDYgLSBjdXJyZW50RGF0ZS5nZXREYXkoKSkpO1xuICBcbiAgcmV0dXJuIGRhdGUgPj0gd2Vla1N0YXJ0ICYmIGRhdGUgPD0gd2Vla0VuZDtcbn1cblxuZnVuY3Rpb24gYWRkVGFza0hhbmRsZXIoKSB7XG4gIGlmKGRpc3BsYXkuZ2V0VGFza05hbWUoKSAhPT0gJycpIHtcbiAgICBjb25zdCBuYW1lID0gZGlzcGxheS5nZXRUYXNrTmFtZSgpO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZGlzcGxheS5nZXREZXNjcmlwdGlvbigpO1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShgJHtkaXNwbGF5LmdldERhdGUoKX1gKTtcbiAgICBjb25zdCB0YXNrID0gbmV3IFRhc2sobmFtZSwgZGVzY3JpcHRpb24sIGRhdGUsIHRhc2tNYW5hZ2VyLmN1cnJlbnRQcmlvcml0eSwgZmFsc2UpO1xuICAgIHByb2plY3RNYW5hZ2VyLmFjdGl2ZVByb2plY3QubXlUYXNrcy5wdXNoKHRhc2spO1xuICAgIHJlZnJlc2hUYXNrTGlzdChwcm9qZWN0TWFuYWdlci5hY3RpdmVQcm9qZWN0Lm15VGFza3MpO1xuICAgIGRpc3BsYXkuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgZGlzcGxheS5jbGVhckZpZWxkcygpO1xuICAgIHNhdmVQcm9qZWN0cyhwcm9qZWN0TWFuYWdlci5wcm9qZWN0cywgZGVmYXVsdFByb2plY3QpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbmZpcm1FZGl0SGFuZGxlcigpIHtcbiAgZGlzcGxheS50YXNrT3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICBjb25zdCB0YXNrID0gdGFza01hbmFnZXIuYWN0aXZlVGFzaztcbiAgdGFzay5uYW1lID0gZGlzcGxheS50aXRsZUVkaXQudmFsdWU7XG4gIHRhc2suZGVzY3JpcHRpb24gPSBkaXNwbGF5LmRlc2NyaXB0aW9uRWRpdC52YWx1ZTtcbiAgdGFzay5wcmlvcml0eSA9IHRhc2tNYW5hZ2VyLmN1cnJlbnRQcmlvcml0eTtcbiAgdGFzay5kYXRlID0gZGlzcGxheS5kYXRlRWRpdC52YWx1ZTtcbiAgcmVmcmVzaFRhc2tMaXN0KHByb2plY3RNYW5hZ2VyLmFjdGl2ZVByb2plY3QubXlUYXNrcyk7XG4gIHNhdmVQcm9qZWN0cyhwcm9qZWN0TWFuYWdlci5wcm9qZWN0cywgZGVmYXVsdFByb2plY3QpO1xufVxuXG5mdW5jdGlvbiBlZGl0VGFza0hhbmRsZXIodGFzaykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgZGlzcGxheS50YXNrT3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHRhc2tNYW5hZ2VyLmFjdGl2ZVRhc2sgPSB0YXNrO1xuICAgIGRpc3BsYXkudGl0bGVFZGl0LnZhbHVlID0gdGFzay5uYW1lO1xuICAgIGRpc3BsYXkuZGVzY3JpcHRpb25FZGl0LnZhbHVlID0gdGFzay5kZXNjcmlwdGlvbjtcbiAgICBkaXNwbGF5LnVwZGF0ZVByaW9yaXR5KGRpc3BsYXkuYnRuTG93RWRpdCwgZGlzcGxheS5idG5NaWRFZGl0LCBkaXNwbGF5LmJ0bkhpZ2hFZGl0LCB0YXNrLnByaW9yaXR5KTtcbiAgICBpZih0YXNrLmR1ZURhdGUgIT09ICcnKSB7XG4gICAgICBkaXNwbGF5LmRhdGVFZGl0LnZhbHVlID0gdGFzay5kdWVEYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlUHJvamVjdEhhbmRsZXIocHJvamVjdCkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcHJvamVjdE1hbmFnZXIucHJvamVjdHMuc3BsaWNlKHByb2plY3QsIDEpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBwcm9qZWN0LSR7cHJvamVjdH1gKS5yZW1vdmUoKTtcbiAgICBwcm9qZWN0TWFuYWdlci5hY3RpdmVQcm9qZWN0ID0gZGVmYXVsdFByb2plY3Q7XG4gICAgZGlzcGxheS5zZXRMaXN0VGl0bGUocHJvamVjdE1hbmFnZXIuYWN0aXZlUHJvamVjdC5uYW1lKTtcbiAgICByZWZyZXNoVGFza0xpc3QocHJvamVjdE1hbmFnZXIuYWN0aXZlUHJvamVjdC5teVRhc2tzKTtcbiAgICBzYXZlUHJvamVjdHMocHJvamVjdE1hbmFnZXIucHJvamVjdHMsIGRlZmF1bHRQcm9qZWN0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0b2dnbGVQcm9qZWN0SGFuZGxlcihwcm9qZWN0KSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBwcm9qZWN0TWFuYWdlci5hY3RpdmVQcm9qZWN0ID0gcHJvamVjdE1hbmFnZXIucHJvamVjdHNbcHJvamVjdF07XG4gICAgZGlzcGxheS5zZXRMaXN0VGl0bGUocHJvamVjdE1hbmFnZXIuYWN0aXZlUHJvamVjdC5uYW1lKTtcbiAgICByZWZyZXNoVGFza0xpc3QocHJvamVjdE1hbmFnZXIuYWN0aXZlUHJvamVjdC5teVRhc2tzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb25maXJtUHJvamVjdEhhbmRsZXIoKSB7XG4gIGlmKGRpc3BsYXkuZ2V0UHJvamVjdE5hbWUoKSAhPT0gJycpIHtcbiAgICBjb25zdCBuYW1lID0gZGlzcGxheS5nZXRQcm9qZWN0TmFtZSgpO1xuICAgIHByb2plY3RNYW5hZ2VyLnByb2plY3RzLnB1c2gobmV3IFByb2plY3QobmFtZSkpO1xuICAgIHByb2plY3RNYW5hZ2VyLmFjdGl2ZVByb2plY3QgPSBwcm9qZWN0TWFuYWdlci5wcm9qZWN0c1twcm9qZWN0TWFuYWdlci5wcm9qZWN0cy5sZW5ndGgtMV07XG4gICAgc2hvd1Byb2plY3RzKHByb2plY3RNYW5hZ2VyLnByb2plY3RzKTtcbiAgICBkaXNwbGF5LnNldExpc3RUaXRsZShwcm9qZWN0TWFuYWdlci5hY3RpdmVQcm9qZWN0Lm5hbWUpO1xuICAgIGRpc3BsYXkuaW5wdXRDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgIGRpc3BsYXkucHJvamVjdE5hbWVJbnB1dC52YWx1ZSA9ICcnO1xuICAgIHNhdmVQcm9qZWN0cyhwcm9qZWN0TWFuYWdlci5wcm9qZWN0cywgZGVmYXVsdFByb2plY3QpO1xuICAgIHJlZnJlc2hUYXNrTGlzdChwcm9qZWN0TWFuYWdlci5hY3RpdmVQcm9qZWN0Lm15VGFza3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyb3NzT3V0VGFzayh0YXNrKSB7XG4gIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdGFzay0ke3Rhc2suZGF0YXNldC5pbmRleH0tbmFtZWApO1xuICBnZXRBbGxUYXNrcygpW3Rhc2suZGF0YXNldC5pbmRleF0uY29tcGxldGVkID0gdHJ1ZTtcbiAgbmFtZS5zdHlsZS50ZXh0RGVjb3JhdGlvbiA9ICdsaW5lLXRocm91Z2gnO1xuICBuYW1lLnN0eWxlLmNvbG9yID0gJ2dyYXknO1xufVxuXG5mdW5jdGlvbiB1bmRvQ3Jvc3NvdXQodGFzaykge1xuICBjb25zdCBuYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHRhc2stJHt0YXNrLmRhdGFzZXQuaW5kZXh9LW5hbWVgKTtcbiAgZ2V0QWxsVGFza3MoKVt0YXNrLmRhdGFzZXQuaW5kZXhdLmNvbXBsZXRlZCA9IGZhbHNlO1xuICBuYW1lLnN0eWxlLnRleHREZWNvcmF0aW9uID0gJ25vbmUnO1xuICBuYW1lLnN0eWxlLmNvbG9yID0gJyc7XG59XG5cbmZ1bmN0aW9uIHNob3dUYXNrcyhsaXN0KSB7XG4gIHdoaWxlKGRpc3BsYXkudGFza0xpc3RQYXJlbnQuZmlyc3RDaGlsZCkge1xuICAgIGRpc3BsYXkudGFza0xpc3RQYXJlbnQucmVtb3ZlQ2hpbGQoZGlzcGxheS50YXNrTGlzdFBhcmVudC5maXJzdENoaWxkKTtcbiAgfVxuXG4gIC8vIEFwcGVuZCB0YXNrcyB0byBjdXJyZW50IHRhc2sgbGlzdFxuICBmb3IoY29uc3QgdGFzayBvZiBsaXN0KSB7XG4gICAgdGFza01hbmFnZXIuYWN0aXZlVGFzayA9IHRhc2s7XG4gICAgaWYoaXNOYU4odGFzay5kdWVEYXRlLmdldERhdGUoKSkpIHtcbiAgICAgIGRpc3BsYXkudGFza0xpc3RBZGQoZGlzcGxheS50YXNrRGl2RmFjdG9yeSh0YXNrLm5hbWUsIHRhc2suZGVzY3JpcHRpb24sICcnLCB0YXNrLnByaW9yaXR5LCB0YXNrLmNvbXBsZXRlZCwgbGlzdC5pbmRleE9mKHRhc2spLCBlZGl0VGFza0hhbmRsZXIodGFza01hbmFnZXIuYWN0aXZlVGFzaykpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGlzcGxheS50YXNrTGlzdEFkZChkaXNwbGF5LnRhc2tEaXZGYWN0b3J5KHRhc2submFtZSwgdGFzay5kZXNjcmlwdGlvbiwgdGFzay5kdWVEYXRlLCB0YXNrLnByaW9yaXR5LCB0YXNrLmNvbXBsZXRlZCwgbGlzdC5pbmRleE9mKHRhc2spLCBlZGl0VGFza0hhbmRsZXIodGFza01hbmFnZXIuYWN0aXZlVGFzaykpKTtcbiAgICB9XG4gIH1cblxuICAvLyBBZGQgbGlzdGVuZXJzIHRvIHJlbW92ZSBhbmQgZWRpdCBidXR0b25zXG4gIGZvcihjb25zdCB0YXNrIG9mIEFycmF5LmZyb20oZGlzcGxheS50YXNrTGlzdFBhcmVudC5jaGlsZE5vZGVzKSkge1xuICAgIGNvbnN0IGluZGV4ID0gdGFzay5kYXRhc2V0LmluZGV4O1xuICAgIGNvbnN0IGNoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHRhc2stJHtpbmRleH0tY2hlY2tib3hgKTtcbiAgICBjb25zdCByZW1vdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgcmVtb3ZlLXRhc2stJHtpbmRleH1gKTtcblxuICAgIHJlbW92ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHByb2plY3RNYW5hZ2VyLmFjdGl2ZVByb2plY3QucmVtb3ZlVGFzayhwcm9qZWN0TWFuYWdlci5hY3RpdmVQcm9qZWN0Lm15VGFza3NbaW5kZXhdKTtcbiAgICAgIHRhc2sucmVtb3ZlKCk7XG4gICAgICByZWZyZXNoVGFza0xpc3QocHJvamVjdE1hbmFnZXIuYWN0aXZlUHJvamVjdC5teVRhc2tzKTtcbiAgICB9KTtcblxuICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYoIWNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgICAgdW5kb0Nyb3Nzb3V0KHRhc2spO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3Jvc3NPdXRUYXNrKHRhc2spO1xuICAgICAgfVxuXG4gICAgICBzYXZlUHJvamVjdHMocHJvamVjdE1hbmFnZXIucHJvamVjdHMsIGRlZmF1bHRQcm9qZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmKGxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgZGlzcGxheS5zaG93VGFza0xpc3RQbGFjZWhvbGRlcigpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlZnJlc2hUYXNrTGlzdChuZXdMaXN0KSB7XG4gIHNob3dUYXNrcyhuZXdMaXN0KTtcbn1cblxuZnVuY3Rpb24gc29ydEJ5UHJpb3JpdHkodW5vcmRlcmVkTGlzdCkge1xuICBjb25zdCBoaWdoID0gdW5vcmRlcmVkTGlzdC5maWx0ZXIoaXRlbSA9PiBpdGVtLnByaW9yaXR5ID09PSAyKTtcbiAgY29uc3QgbWlkID0gdW5vcmRlcmVkTGlzdC5maWx0ZXIoaXRlbSA9PiBpdGVtLnByaW9yaXR5ID09PSAxKTtcbiAgY29uc3QgbG93ID0gdW5vcmRlcmVkTGlzdC5maWx0ZXIoaXRlbSA9PiBpdGVtLnByaW9yaXR5ID09PSAwKTtcbiAgXG4gIGNvbnN0IG9yZGVyZWRMaXN0ID0gaGlnaC5jb25jYXQobWlkLCBsb3cpO1xuICByZWZyZXNoVGFza0xpc3Qob3JkZXJlZExpc3QpO1xufVxuXG5mdW5jdGlvbiBzaG93UHJvamVjdHMobGlzdCkge1xuICB3aGlsZShkaXNwbGF5LnByb2plY3RMaXN0UGFyZW50LmZpcnN0Q2hpbGQpIHtcbiAgICBkaXNwbGF5LnByb2plY3RMaXN0UGFyZW50LnJlbW92ZUNoaWxkKGRpc3BsYXkucHJvamVjdExpc3RQYXJlbnQuZmlyc3RDaGlsZCk7XG4gIH1cblxuICBmb3IoY29uc3QgcHJvamVjdCBvZiBsaXN0KSB7XG4gICAgZGlzcGxheS5wcm9qZWN0TGlzdEFkZChkaXNwbGF5LnByb2plY3REaXZGYWN0b3J5KHByb2plY3QubmFtZSwgbGlzdC5pbmRleE9mKHByb2plY3QpKSk7XG4gIH1cblxuICBmb3IoY29uc3QgcHJvamVjdCBvZiBBcnJheS5mcm9tKGRpc3BsYXkucHJvamVjdExpc3RQYXJlbnQuY2hpbGROb2RlcykpIHtcbiAgICBjb25zdCByZW1vdmUgPSBwcm9qZWN0LmNoaWxkTm9kZXNbMV07XG4gICAgY29uc3QgaW5kZXggPSBwcm9qZWN0LmNoaWxkTm9kZXNbMF0uZGF0YXNldC5pbmRleDtcbiAgICByZW1vdmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVQcm9qZWN0SGFuZGxlcihpbmRleCkpO1xuICAgIHByb2plY3QuY2hpbGROb2Rlc1swXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvZ2dsZVByb2plY3RIYW5kbGVyKGluZGV4KSk7XG4gIH1cblxuICBpZihsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIGRpc3BsYXkuc2hvd1Byb2plY3RMaXN0UGxhY2Vob2xkZXIoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBob29rTWVudUxpc3RlbmVycygpIHtcbiAgZGlzcGxheS5idG5BZGRUYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkVGFza0hhbmRsZXIpO1xuXG4gIGRpc3BsYXkuYnRuQ2FuY2VsVGFzay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBkaXNwbGF5LmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGRpc3BsYXkuY2xlYXJGaWVsZHMoKTtcbiAgfSk7XG4gIFxuICBkaXNwbGF5LmJ0bkNvbmZpcm1Qcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY29uZmlybVByb2plY3RIYW5kbGVyKTtcbiAgXG4gIGRpc3BsYXkuYnRuSW5ib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgcmVmcmVzaFRhc2tMaXN0KGRlZmF1bHRQcm9qZWN0Lm15VGFza3MpO1xuICAgIHByb2plY3RNYW5hZ2VyLmFjdGl2ZVByb2plY3QgPSBkZWZhdWx0UHJvamVjdDtcbiAgICBkaXNwbGF5LnNldExpc3RUaXRsZSgnSU5CT1gnKTtcbiAgfSk7XG4gIFxuICBkaXNwbGF5LmJ0blRvZGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0IHRvZGF5VGFza3MgPSBnZXRBbGxUYXNrcygpLmZpbHRlcih0YXNrID0+IGlzVG9kYXkodGFzay5kdWVEYXRlKSk7XG4gICAgcmVmcmVzaFRhc2tMaXN0KHRvZGF5VGFza3MpO1xuICAgIHByb2plY3RNYW5hZ2VyLmFjdGl2ZVByb2plY3QgPSBkZWZhdWx0UHJvamVjdDtcbiAgICBkaXNwbGF5LnNldExpc3RUaXRsZSgnVE9EQVknKTtcbiAgfSk7XG4gIFxuICBkaXNwbGF5LmJ0bldlZWsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY29uc3Qgd2Vla1Rhc2tzID0gZ2V0QWxsVGFza3MoKS5maWx0ZXIodGFzayA9PiBpc1RoaXNXZWVrKHRhc2suZHVlRGF0ZSkpO1xuICAgIHJlZnJlc2hUYXNrTGlzdCh3ZWVrVGFza3MpO1xuICAgIHByb2plY3RNYW5hZ2VyLmFjdGl2ZVByb2plY3QgPSBkZWZhdWx0UHJvamVjdDtcbiAgICBkaXNwbGF5LnNldExpc3RUaXRsZSgnVEhJUyBXRUVLJyk7XG4gIH0pO1xuXG4gIGRpc3BsYXkuYnRuTmV3VGFzay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBkaXNwbGF5LmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICB9KTtcblxuICBkaXNwbGF5LmJ0blNvcnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgc29ydEJ5UHJpb3JpdHkocHJvamVjdE1hbmFnZXIuYWN0aXZlUHJvamVjdC5teVRhc2tzKTtcbiAgfSk7XG5cbiAgZGlzcGxheS5idG5OZXdQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGRpc3BsYXkuaW5wdXRDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgfSk7XG5cbiAgZGlzcGxheS5idG5DYW5jZWxQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGRpc3BsYXkuaW5wdXRDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBkaXNwbGF5LnByb2plY3ROYW1lSW5wdXQudmFsdWUgPSAnJztcbiAgfSk7XG5cbiAgZGlzcGxheS5idG5Db25maXJtRWRpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNvbmZpcm1FZGl0SGFuZGxlcik7XG5cbiAgZGlzcGxheS5idG5DYW5jZWxFZGl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGRpc3BsYXkudGFza092ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfSk7XG5cbiAgZGlzcGxheS5idG5Mb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgdGFza01hbmFnZXIuY3VycmVudFByaW9yaXR5ID0gMDtcbiAgICBkaXNwbGF5LnVwZGF0ZVByaW9yaXR5KGRpc3BsYXkuYnRuTG93LCBkaXNwbGF5LmJ0bk1pZCwgZGlzcGxheS5idG5IaWdoLCAwKTtcbiAgfSk7XG5cbiAgZGlzcGxheS5idG5NaWQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgdGFza01hbmFnZXIuY3VycmVudFByaW9yaXR5ID0gMTtcbiAgICBkaXNwbGF5LnVwZGF0ZVByaW9yaXR5KGRpc3BsYXkuYnRuTG93LCBkaXNwbGF5LmJ0bk1pZCwgZGlzcGxheS5idG5IaWdoLCAxKTtcbiAgfSk7XG5cbiAgZGlzcGxheS5idG5IaWdoLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHRhc2tNYW5hZ2VyLmN1cnJlbnRQcmlvcml0eSA9IDI7XG4gICAgZGlzcGxheS51cGRhdGVQcmlvcml0eShkaXNwbGF5LmJ0bkxvdywgZGlzcGxheS5idG5NaWQsIGRpc3BsYXkuYnRuSGlnaCwgMik7XG4gIH0pO1xuXG4gIGRpc3BsYXkuYnRuTG93RWRpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB0YXNrTWFuYWdlci5jdXJyZW50UHJpb3JpdHkgPSAwO1xuICAgIGRpc3BsYXkudXBkYXRlUHJpb3JpdHkoZGlzcGxheS5idG5Mb3dFZGl0LCBkaXNwbGF5LmJ0bk1pZEVkaXQsIGRpc3BsYXkuYnRuSGlnaEVkaXQsIDApO1xuICB9KTtcblxuICBkaXNwbGF5LmJ0bk1pZEVkaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgdGFza01hbmFnZXIuY3VycmVudFByaW9yaXR5ID0gMTtcbiAgICBkaXNwbGF5LnVwZGF0ZVByaW9yaXR5KGRpc3BsYXkuYnRuTG93RWRpdCwgZGlzcGxheS5idG5NaWRFZGl0LCBkaXNwbGF5LmJ0bkhpZ2hFZGl0LCAxKTtcbiAgfSk7XG5cbiAgZGlzcGxheS5idG5IaWdoRWRpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB0YXNrTWFuYWdlci5jdXJyZW50UHJpb3JpdHkgPSAyO1xuICAgIGRpc3BsYXkudXBkYXRlUHJpb3JpdHkoZGlzcGxheS5idG5Mb3dFZGl0LCBkaXNwbGF5LmJ0bk1pZEVkaXQsIGRpc3BsYXkuYnRuSGlnaEVkaXQsIDIpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gbG9hZEFwcCgpIHtcbiAgICByZWZyZXNoVGFza0xpc3QoZGVmYXVsdFByb2plY3QubXlUYXNrcyk7XG4gICAgc2hvd1Byb2plY3RzKHByb2plY3RNYW5hZ2VyLnByb2plY3RzKTtcbiAgICBob29rTWVudUxpc3RlbmVycygpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBsb2FkQXBwO1xuIl0sIm5hbWVzIjpbInRhc2tEaXZGYWN0b3J5IiwibmFtZSIsImRlc2NyaXB0aW9uIiwiZHVlRGF0ZSIsInByaW9yaXR5IiwiY29tcGxldGVkIiwidGFza0lkIiwiZWRpdEhhbmRsZXIiLCJ0YXNrIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiaWQiLCJkYXRhc2V0IiwiaW5kZXgiLCJsZWZ0U2VjdGlvbiIsInJpZ2h0U2VjdGlvbiIsImNoZWNrYm94IiwidHlwZSIsImNoZWNrZWQiLCJsYWJlbE5hbWUiLCJpbm5lckhUTUwiLCJsYWJlbERlc2MiLCJjbGFzc05hbWUiLCJzdHlsZSIsInRleHREZWNvcmF0aW9uIiwiY29sb3IiLCJhcHBlbmRDaGlsZCIsImxhYmVsUHJpb3JpdHkiLCJkaXZpc29yIiwiZGF0ZSIsImdldFVUQ0RhdGUiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwiZWRpdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzcmMiLCJhbHQiLCJyZW1vdmUiLCJwcm9qZWN0RGl2RmFjdG9yeSIsInByb2plY3RJZCIsInByb2plY3QiLCJsZWZ0Q29udGFpbmVyIiwicHJvamVjdEljb24iLCJwcm9qZWN0TmFtZSIsImRlbGV0ZUljb24iLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJfbmFtZSIsIm5ld05hbWUiLCJfZGVzY3JpcHRpb24iLCJuZXdEZXNjcmlwdGlvbiIsIl9kdWVEYXRlIiwiX3ByaW9yaXR5IiwibmV3UHJpb3JpdHkiLCJfY29tcGxldGVkIiwiY29tcGxldGUiLCJteVRhc2tzIiwiaXNDb21wbGV0ZSIsInZhbHVlIiwiX215VGFza3MiLCJsaXN0IiwiYWRkVGFzayIsInB1c2giLCJfaXNDb21wbGV0ZSIsInN0YXR1cyIsInJlbW92ZVRhc2siLCJzcGxpY2UiLCJpbmRleE9mIiwic2F2ZVByb2plY3RzIiwicHJvamVjdExpc3QiLCJkZWZhdWx0UHJvamVjdCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiYnRuSW5ib3giLCJnZXRFbGVtZW50QnlJZCIsImJ0blRvZGF5IiwiYnRuV2VlayIsImJ0bk5ld1Byb2plY3QiLCJpbnB1dENvbnRhaW5lciIsInByb2plY3ROYW1lSW5wdXQiLCJidG5Db25maXJtUHJvamVjdCIsImJ0bkNhbmNlbFByb2plY3QiLCJsaXN0VGl0bGUiLCJidG5OZXdUYXNrIiwiYnRuU29ydCIsImNvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJ0aXRsZSIsImJ0bkxvdyIsImJ0bk1pZCIsImJ0bkhpZ2giLCJidG5BZGRUYXNrIiwiYnRuQ2FuY2VsVGFzayIsInRhc2tPdmVybGF5IiwidGl0bGVFZGl0IiwiZGVzY3JpcHRpb25FZGl0IiwiZGF0ZUVkaXQiLCJidG5Mb3dFZGl0IiwiYnRuTWlkRWRpdCIsImJ0bkhpZ2hFZGl0IiwiYnRuQ29uZmlybUVkaXQiLCJidG5DYW5jZWxFZGl0IiwicHJvamVjdExpc3RQYXJlbnQiLCJ0YXNrTGlzdFBhcmVudCIsInNldFRhc2tOYW1lIiwic2V0RGVzY3JpcHRpb24iLCJzZXREYXRlIiwibmV3RGF0ZSIsInVwZGF0ZVByaW9yaXR5IiwibG93IiwibWlkIiwiaGlnaCIsInRhc2tMaXN0QWRkIiwicHJvamVjdExpc3RBZGQiLCJnZXRUYXNrTmFtZSIsImdldFByb2plY3ROYW1lIiwiZ2V0RGVzY3JpcHRpb24iLCJnZXREYXRlIiwic2V0TGlzdFRpdGxlIiwibmV3VGl0bGUiLCJjbGVhckZpZWxkcyIsInNob3dUYXNrTGlzdFBsYWNlaG9sZGVyIiwidGV4dCIsInNob3dQcm9qZWN0TGlzdFBsYWNlaG9sZGVyIiwicHJvamVjdE1hbmFnZXIiLCJwcm9qZWN0cyIsImFjdGl2ZVByb2plY3QiLCJ0YXNrTWFuYWdlciIsImFjdGl2ZVRhc2siLCJ1bmRlZmluZWQiLCJjdXJyZW50UHJpb3JpdHkiLCJyZXRyaWV2ZVRhc2siLCJEYXRlIiwicmV0cmlldmVQcm9qZWN0Iiwic3RvcmFnZVRhc2tzIiwicGFyc2UiLCJzdG9yYWdlUHJvamVjdHMiLCJnZXRJdGVtIiwicHJvamVjdE9iamVjdCIsImdldEFsbFRhc2tzIiwidGFza3MiLCJmbGF0IiwiYWRkVGFza0hhbmRsZXIiLCJyZWZyZXNoVGFza0xpc3QiLCJkaXNwbGF5IiwiY29uZmlybUVkaXRIYW5kbGVyIiwiZWRpdFRhc2tIYW5kbGVyIiwidG9JU09TdHJpbmciLCJzcGxpdCIsInJlbW92ZVByb2plY3RIYW5kbGVyIiwidG9nZ2xlUHJvamVjdEhhbmRsZXIiLCJjb25maXJtUHJvamVjdEhhbmRsZXIiLCJsZW5ndGgiLCJzaG93UHJvamVjdHMiLCJjcm9zc091dFRhc2siLCJ1bmRvQ3Jvc3NvdXQiLCJuZXdMaXN0IiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiaXNOYU4iLCJBcnJheSIsImZyb20iLCJjaGlsZE5vZGVzIiwic2hvd1Rhc2tzIiwiZmlsdGVyIiwiY3VycmVudERhdGUiLCJpc1RvZGF5Iiwid2Vla1N0YXJ0IiwiZ2V0RGF5Iiwid2Vla0VuZCIsImlzVGhpc1dlZWsiLCJ1bm9yZGVyZWRMaXN0IiwiaXRlbSIsImNvbmNhdCIsInNvcnRCeVByaW9yaXR5Il0sInNvdXJjZVJvb3QiOiIifQ==